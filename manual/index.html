---
layout: page
title : Manual
header : The Ocean Health Index Assessment Manual
group: navigation
---
{% include JB/setup %}
<!DOCTYPE html>  <html xmlns="http://www.w3.org/1999/xhtml">  <head>  <meta charset="utf-8"> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <meta name="generator" content="pandoc" />    <title>The Ocean Health Index Assessment Manual</title>  <script src="ohi-manual_files/jquery-1.11.0/jquery.min.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1" /> <link href="ohi-manual_files/bootstrap-3.3.1/css/bootstrap.min.css" rel="stylesheet" /> <script src="ohi-manual_files/bootstrap-3.3.1/js/bootstrap.min.js"></script> <script src="ohi-manual_files/bootstrap-3.3.1/shim/html5shiv.min.js"></script> <script src="ohi-manual_files/bootstrap-3.3.1/shim/respond.min.js"></script>  <style type="text/css">code{white-space: pre;}</style> <link rel="stylesheet"       href="ohi-manual_files/highlight/default.css"       type="text/css" /> <script src="ohi-manual_files/highlight/highlight.js"></script> <style type="text/css">   pre:not([class]) {     background-color: white;   } </style> <script type="text/javascript"> if (window.hljs && document.readyState && document.readyState === "complete") {    window.setTimeout(function() {       hljs.initHighlighting();    }, 0); } </script>    </head>  <body>  <style type = "text/css"> .main-container {   max-width: 940px;   margin-left: auto;   margin-right: auto; } code {   color: inherit;   background-color: rgba(0, 0, 0, 0.04); } img {    max-width:100%;    height: auto;  } </style> <div class="container-fluid main-container">   <div id="header"> <h1 class="title">The Ocean Health Index Assessment Manual</h1> </div>  <div id="TOC"> <ul> <li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a><ul> <li><a href="#the-ocean-health-index"><span class="toc-section-number">1.1</span> The Ocean Health Index</a></li> </ul></li> <li><a href="#introduction-to-ohi-assessments"><span class="toc-section-number">2</span> Introduction to OHI Assessments</a></li> <li><a href="#overview-of-the-ohi-toolbox"><span class="toc-section-number">3</span> Overview of the OHI Toolbox &lt;<and OHI WebApp>&gt;</a><ul> <li><a href="#background"><span class="toc-section-number">3.1</span> Background</a></li> <li><a href="#using-the-webapp"><span class="toc-section-number">3.2</span> Using the WebApp</a></li> <li><a href="#the-app-page"><span class="toc-section-number">3.3</span> The App Page</a></li> <li><a href="#the-apps-data-tab"><span class="toc-section-number">3.4</span> The App’s Data tab</a><ul> <li><a href="#overview-of-display-options"><span class="toc-section-number">3.4.1</span> Overview of display options</a></li> <li><a href="#overview-of-variable-options"><span class="toc-section-number">3.4.2</span> Overview of variable options</a></li> </ul></li> <li><a href="#the-apps-compare-tab"><span class="toc-section-number">3.5</span> The App’s Compare tab</a></li> <li><a href="#before-conducting-an-assessment"><span class="toc-section-number">3.6</span> Before conducting an assessment</a></li> </ul></li> <li><a href="#conducting-an-assessment"><span class="toc-section-number">4</span> Conducting an Assessment</a><ul> <li><a href="#what-to-expect-when-conducting-an-assessment"><span class="toc-section-number">4.1</span> What to expect when conducting an assessment</a><ul> <li><a href="#timeline"><span class="toc-section-number">4.1.1</span> Timeline</a></li> </ul></li> <li><a href="#where-to-start"><span class="toc-section-number">4.2</span> Where to start</a></li> <li><a href="#points-to-remember"><span class="toc-section-number">4.3</span> Points to remember</a></li> <li><a href="#checklist-how-to-prepare-for-using-the-toolbox"><span class="toc-section-number">4.4</span> Checklist: How to prepare for using the Toolbox</a></li> <li><a href="#discovering-and-gathering-appropriate-data-and-indicators"><span class="toc-section-number">4.5</span> Discovering and Gathering Appropriate Data and Indicators</a><ul> <li><a href="#data-sources"><span class="toc-section-number">4.5.1</span> Data sources</a></li> <li><a href="#gathering-responsibilities"><span class="toc-section-number">4.5.2</span> Gathering responsibilities</a></li> <li><a href="#the-process-of-discovery"><span class="toc-section-number">4.5.3</span> The process of discovery</a></li> <li><a href="#requirements-for-data-and-indicators"><span class="toc-section-number">4.5.4</span> Requirements for data and indicators</a></li> <li><a href="#example-us-west-coast-data-discovery"><span class="toc-section-number">4.5.5</span> Example: US West Coast data discovery</a></li> </ul></li> <li><a href="#pressures-and-resilience"><span class="toc-section-number">4.6</span> Pressures and resilience</a><ul> <li><a href="#matrices"><span class="toc-section-number">4.6.1</span> Matrices</a></li> <li><a href="#explore-local-pressures"><span class="toc-section-number">4.6.2</span> Explore local pressures</a></li> <li><a href="#updating-the-pressures-matrix"><span class="toc-section-number">4.6.3</span> Updating the pressures matrix</a></li> <li><a href="#some-spatial-considerations"><span class="toc-section-number">4.6.4</span> Some spatial considerations</a></li> <li><a href="#determine-how-the-pressure-affects-goals"><span class="toc-section-number">4.6.5</span> Determine how the pressure affects goals</a></li> <li><a href="#identify-available-pressures-data"><span class="toc-section-number">4.6.6</span> Identify available pressures data</a></li> <li><a href="#explore-local-resilience"><span class="toc-section-number">4.6.7</span> Explore local resilience</a></li> <li><a href="#identify-regulatory-resilience-measures-for-any-new-ecological-pressures"><span class="toc-section-number">4.6.8</span> Identify regulatory resilience measures for any new ecological pressures</a></li> <li><a href="#determine-how-the-resilience-measure-affects-goals"><span class="toc-section-number">4.6.9</span> Determine how the resilience measure affects goals</a></li> <li><a href="#identify-available-resilience-data"><span class="toc-section-number">4.6.10</span> Identify available resilience data</a></li> </ul></li> </ul></li> <li><a href="#the-ocean-health-index-toolbox"><span class="toc-section-number">5</span> The Ocean Health Index Toolbox</a><ul> <li><a href="#file-system-for-assessment-repositories"><span class="toc-section-number">5.1</span> File System for Assessment Repositories</a><ul> <li><a href="#assessments-and-scenarios"><span class="toc-section-number">5.1.1</span> Assessments and scenarios</a></li> <li><a href="#layers.csv"><span class="toc-section-number">5.1.2</span> <em>layers.csv</em></a></li> <li><a href="#layers-folder"><span class="toc-section-number">5.1.3</span> <em>layers</em> folder</a></li> <li><a href="#conf-folder"><span class="toc-section-number">5.1.4</span> <em>conf</em> folder</a></li> <li><a href="#spatial-folder"><span class="toc-section-number">5.1.5</span> spatial folder</a></li> <li><a href="#launch_app_code.r"><span class="toc-section-number">5.1.6</span> launch_app_code.R</a></li> <li><a href="#layers-empty_swapping-global-mean.csv"><span class="toc-section-number">5.1.7</span> layers-empty_swapping-global-mean.csv</a></li> <li><a href="#calculate_scores.r"><span class="toc-section-number">5.1.8</span> <em>calculate_scores.r</em></a></li> <li><a href="#scores.csv"><span class="toc-section-number">5.1.9</span> scores.csv</a></li> <li><a href="#relaunching-the-toolbox"><span class="toc-section-number">5.1.10</span> Relaunching the Toolbox</a></li> </ul></li> <li><a href="#formatting-data-for-the-toolbox"><span class="toc-section-number">5.2</span> Formatting Data for the Toolbox</a><ul> <li><a href="#introduction-1"><span class="toc-section-number">5.2.1</span> Introduction</a></li> <li><a href="#gapfilling"><span class="toc-section-number">5.2.2</span> Gapfilling</a></li> <li><a href="#long-formatting"><span class="toc-section-number">5.2.3</span> Long formatting</a></li> </ul></li> </ul></li> <li><a href="#installing-the-toolbox"><span class="toc-section-number">6</span> Installing the Toolbox</a><ul> <li><a href="#overview"><span class="toc-section-number">6.1</span> Overview</a></li> <li><a href="#github"><span class="toc-section-number">6.2</span> GitHub</a><ul> <li><a href="#learning-github"><span class="toc-section-number">6.2.1</span> Learning GitHub</a></li> </ul></li> <li><a href="#accessing-github-repositories"><span class="toc-section-number">6.3</span> Accessing GitHub Repositories</a><ul> <li><a href="#create-a-github-account"><span class="toc-section-number">6.3.1</span> Create a GitHub account</a></li> <li><a href="#install-git-software"><span class="toc-section-number">6.3.2</span> Install <em>git</em> software</a></li> <li><a href="#set-up-your-git-identity"><span class="toc-section-number">6.3.3</span> Set up your Git Identity</a></li> <li><a href="#install-the-github-application"><span class="toc-section-number">6.3.4</span> Install the GitHub application</a></li> <li><a href="#create-a-folder-called-github-on-your-computer"><span class="toc-section-number">6.3.5</span> Create a folder called <em>github</em> on your computer</a></li> <li><a href="#clone-your-repository-to-your-computer"><span class="toc-section-number">6.3.6</span> Clone your repository to your computer</a></li> <li><a href="#update-permissions"><span class="toc-section-number">6.3.7</span> Update permissions</a></li> <li><a href="#work-locally"><span class="toc-section-number">6.3.8</span> Work locally</a></li> <li><a href="#syncing"><span class="toc-section-number">6.3.9</span> Syncing</a></li> <li><a href="#using-the-github-app-to-synchronize-your-repository"><span class="toc-section-number">6.3.10</span> Using the GitHub App to synchronize your repository</a></li> <li><a href="#working-with-r-and-rstudio"><span class="toc-section-number">6.3.11</span> Working with R and RStudio</a></li> <li><a href="#using-rstudio-to-synchronize-your-repository"><span class="toc-section-number">6.3.12</span> Using RStudio to synchronize your repository</a></li> <li><a href="#install-the-latest-version-of-r-and-rstudio"><span class="toc-section-number">6.3.13</span> Install the latest version of R and RStudio</a></li> </ul></li> <li><a href="#github-repository-architecture"><span class="toc-section-number">6.4</span> GitHub repository architecture</a></li> </ul></li> <li><a href="#using-the-toolbox"><span class="toc-section-number">7</span> Using the Toolbox</a><ul> <li><a href="#modifying-and-creating-data-layers"><span class="toc-section-number">7.1</span> Modifying and creating data layers</a><ul> <li><a href="#create-data-layers-with-proper-formatting"><span class="toc-section-number">7.1.1</span> Create data layers with proper formatting</a></li> <li><a href="#save-data-layers-in-the-layers-folder"><span class="toc-section-number">7.1.2</span> Save data layers in the <em>layers</em> folder</a></li> <li><a href="#register-data-layers-in-layers.csv"><span class="toc-section-number">7.1.3</span> Register data layers in <code>layers.csv</code></a></li> <li><a href="#check-pressures-and-resilience-matrices"><span class="toc-section-number">7.1.4</span> Check pressures and resilience matrices</a></li> </ul></li> <li><a href="#modifying-pressures-matrices"><span class="toc-section-number">7.2</span> Modifying pressures matrices</a><ul> <li><a href="#create-the-new-pressure-layers-and-save-in-the-layers-folder"><span class="toc-section-number">7.2.1</span> Create the new pressure layers and save in the <code>layers</code> folder</a></li> <li><a href="#register-the-new-pressure-layers-in-layers.csv"><span class="toc-section-number">7.2.2</span> Register the new pressure layers in <code>layers.csv</code></a></li> <li><a href="#register-the-new-layers-in-pressure_matrix.csv"><span class="toc-section-number">7.2.3</span> Register the new layers in <code>pressure_matrix.csv</code></a></li> <li><a href="#modify-the-resilience-matrix-if-necessary"><span class="toc-section-number">7.2.4</span> Modify the resilience matrix (if necessary)</a></li> </ul></li> <li><a href="#modifying-resilience-matrices"><span class="toc-section-number">7.3</span> Modifying resilience matrices</a><ul> <li><a href="#updating-resilience-matrix-with-local-habitat-information"><span class="toc-section-number">7.3.1</span> Updating resilience matrix with local habitat information</a></li> </ul></li> <li><a href="#modifying-goal-models"><span class="toc-section-number">7.4</span> Modifying goal models</a><ul> <li><a href="#update-functions.r"><span class="toc-section-number">7.4.1</span> Update <em>functions.r</em></a></li> <li><a href="#check-and-possibly-update-goals.csv"><span class="toc-section-number">7.4.2</span> Check and possibly update <em>goals.csv</em></a></li> <li><a href="#example-modification"><span class="toc-section-number">7.4.3</span> Example modification:</a></li> </ul></li> <li><a href="#removing-goals"><span class="toc-section-number">7.5</span> Removing goals</a></li> <li><a href="#other-example-modifications"><span class="toc-section-number">7.6</span> Other example modifications</a><ul> <li><a href="#preparing-the-fisheries-sub-goal"><span class="toc-section-number">7.6.1</span> Preparing the fisheries sub-goal</a></li> </ul></li> <li><a href="#notes-about-r"><span class="toc-section-number">7.7</span> Notes about R</a></li> </ul></li> <li><a href="#frequently-asked-questions-faqs"><span class="toc-section-number">8</span> Frequently Asked Questions (FAQs)</a><ul> <li><a href="#overall"><span class="toc-section-number">8.1</span> Overall</a></li> <li><a href="#conceptual"><span class="toc-section-number">8.2</span> Conceptual</a></li> <li><a href="#timing-and-resources"><span class="toc-section-number">8.3</span> Timing and Resources</a></li> <li><a href="#structure"><span class="toc-section-number">8.4</span> Structure</a></li> <li><a href="#reference-points"><span class="toc-section-number">8.5</span> Reference points</a></li> <li><a href="#appropriate-data-layers"><span class="toc-section-number">8.6</span> Appropriate data layers</a></li> <li><a href="#food-provision"><span class="toc-section-number">8.7</span> Food Provision</a></li> <li><a href="#livelihoods-economies"><span class="toc-section-number">8.8</span> Livelihoods &amp; Economies</a></li> <li><a href="#tourism-recreation"><span class="toc-section-number">8.9</span> Tourism &amp; Recreation</a></li> <li><a href="#natural-products"><span class="toc-section-number">8.10</span> Natural Products</a></li> <li><a href="#species"><span class="toc-section-number">8.11</span> Species</a></li> <li><a href="#sense-of-place"><span class="toc-section-number">8.12</span> Sense of Place</a></li> <li><a href="#pressures"><span class="toc-section-number">8.13</span> Pressures</a></li> </ul></li> <li><a href="#toolbox-troubleshooting"><span class="toc-section-number">9</span> Toolbox Troubleshooting</a><ul> <li><a href="#loading-rworkspace-on-restart"><span class="toc-section-number">9.1</span> Loading RWorkspace on Restart</a></li> <li><a href="#calculating-pressures"><span class="toc-section-number">9.2</span> Calculating Pressures…</a><ul> <li><a href="#the-following-components-for-goal-are-not-in-the-aggregation-layer-layer"><span class="toc-section-number">9.2.1</span> ‘The following components for [goal] are not in the aggregation layer [layer]…’</a></li> <li><a href="#error-in-matrix"><span class="toc-section-number">9.2.2</span> ‘Error in matrix…’</a></li> </ul></li> <li><a href="#calculating-resilience"><span class="toc-section-number">9.3</span> Calculating Resilience …</a><ul> <li><a href="#error-in-matchx-table-nomatch-ol-object-id_num-not-found"><span class="toc-section-number">9.3.1</span> ‘Error in match(x, table, nomatch = OL) : object id_num not found’</a></li> </ul></li> </ul></li> </ul> </div>  <div id="introduction" class="section level1"> <h1><span class="header-section-number">1</span> Introduction</h1> <div id="the-ocean-health-index" class="section level2"> <h2><span class="header-section-number">1.1</span> The Ocean Health Index</h2> <p><strong>The Ocean Health Index (OHI)</strong> project was created with a strong foundation in communication and collaboration. Following the initial publication by Halpern <em>et al</em>. 2012 in <em>Nature</em>, we have conducted global assessments annually (in 2013, 2014, and ongoing), and have conducted smaller-scale assessments for the U.S. West Coast (Halpern <em>et al.</em> 2014), Fiji (Selig <em>et al.</em> in press), and Brazil (Elfes <em>et al.</em> 2014).</p> <p>We have also developed the <strong>OHI Toolbox</strong> and <strong>WebApps</strong> to enable any group to conduct independent assessments using the OHI framework and modifying it to their needs. The Toolbox enables the OHI framework to be customized to any area of interest, incorporating whatever goals, data, indicators, and priorities regarding ocean-derived benefits that are relevant and available to the chosen spatial scale. Information is presented through the WebApps, which are used for orientation, visualization, and reporting.</p> <p>This manual provides information for:</p> <ol style="list-style-type: decimal"> <li>Planning an assessment</li> <li>Navigating the OHI WebApp to visualize data at global and regional scales</li> <li>Modifying data and models within the Toolbox for an independent assessment</li> <li>Guidance for frequently asked questions and troubleshooting</li> </ol> </div> </div> <div id="introduction-to-ohi-assessments" class="section level1"> <h1><span class="header-section-number">2</span> Introduction to OHI Assessments</h1> <blockquote> <p><strong>Section Summary:</strong></p> </blockquote> <blockquote> <p>This section provides an overview of conducting an OHI assessment. In each assessment, goals are scored from 0 to 100 and then aggregated to produce an overall Index score. An assessment requires data, indicators, and priorities that are appropriate for each context.</p> </blockquote> <blockquote> <p>TIP: The process of conducting an OHI assessment is as valuable as the results for policy and management decisions.</p> </blockquote> <p>Assessments using the OHI framework can be most relevant to policy and management decisions when they are conducted at smaller spatial scales (e.g., countries, states, provinces, ecoregions, bays, etc.). Using ten criteria (called goals), the Index scores on a scale of 0 to 100 how well coastal regions optimize their potential ocean benefits and services in a sustainable way relative to self-established reference points (targets). Relevant goal models are developed based on the best available information, which can be either raw data or composite data, or previously developed indicators.</p> <p><strong>The process of conducting an OHI assessment is as valuable as the final results.</strong> This is because while conducting an OHI assessment you will identify gaps in knowledge and data, produce decision-relevant information, and create an ocean alliance that combines knowledge and cultural values across disciplines. Conducting an OHI assessment requires engagement from as many different groups as possible, including research institutions, government agencies, policy groups, non-governmental organizations, and the civil and private sectors.</p> <p>Assessments can incorporate higher-resolution data and indicators, local priorities and preferences, and develop tailored goal models and reference points, which produce scores that better reflect local realities. If a goal is not relevant in the local context, it can be excluded entirely. Similarly, pressures and resilience measures can be refined using local data and indicators. Index scores are only as good as the data on which they are based. <strong>Finding the best data and indicators available is crucial for obtaining meaningful findings that can help inform decision-making.</strong></p> <p>OHI assessments most often involve several <strong>regions</strong> within an overall <strong>study area</strong>. For example, in the global assessment, there were 221 regions (nations and territories) within the study area (global coastal oceans).</p> <div class="figure"> <img src="fig/global_v_brazil_map.png" /> </div> <p>Goal scores are calculated for each region separately and then combined to produce an overall Index score for the region. Index scores are combined using an area-weighted average to produce the Index score for the overall study area.</p> </div> <div id="overview-of-the-ohi-toolbox" class="section level1"> <h1><span class="header-section-number">3</span> Overview of the OHI Toolbox &lt;<and OHI WebApp>&gt;</h1> <blockquote> <p><strong>Section Summary:</strong></p> </blockquote> <blockquote> <p>In this section, you will learn how to access and use the OHI WebApps. Once using the WebApp, you can conduct a preliminary assessment and use the built-in functions to compare input layers, output scores, and change data display options.</p> </blockquote> <div id="background" class="section level2"> <h2><span class="header-section-number">3.1</span> Background</h2> <p><strong>OHI WebApps</strong> are websites created to facilitate independent assessments, and one is available for nearly every coastal nation or territory. The WebApps are meant to be a ‘Starter Kit’ and are available through <a href="http://ohi-science.org">http://ohi-science.org</a> using a three-letter identifier in the URL. For example, Ecuador’s WebApp (“ECU”) is found at <a href="http://ohi-science.org/ecu">http://ohi-science.org/ecu</a>. Each WebApp displays data layers*, which are raw data in this case, as well as the calculated OHI scores based on information extracted from global assessments. As such, they do not provide fine-scale resolution of data for each coastal nation or territory: the scores and data on which they are based are a starting point for an assessment to be conducted by an independent group. These data can be used as a default if better data for the region do not exist, but we encourage you to replace them wherever possible. (*Note: each data component that is included in the OHI is called a <strong>data layer</strong> because it will be combined with others to calculate the goal scores. Many data layers are rescaled from 0-1 to be combined with other data layers on the same unitless scale.)</p> <p>Boundaries for exclusive economic zones (EEZs) were identified by www.marineregions.org and the largest subcountry regions (i.e., provinces, states, districts) were identified by <a href="http://gadm.org">http://gadm.org</a>. Subcountry region boundaries were extended offshore to divide the EEZ of each study area into offshore regions. These subcountry regions have been provided as a starting point, and are typically coastal states or provinces, which, in our experience, is consistent with the scale at which most policy decisions are made. However, it is possible to change the boundaries for the regions and the study area depending on your preferences.</p> <p>OHI WebApps serve several purposes because they:</p> <ol style="list-style-type: decimal"> <li>allow for exploration of how the Index works: what data look like and which data layers are used in each goal</li> <li>are a communication platform for an assessment team, since information is presented in a manner that is accessible to group members of different disciplines and technical capacities</li> <li>can be used to set data gathering or goal model development priorities for the assessment</li> <li>display your assessment’s data and calculated scores once you have finalized and formatted your data and modified goal models.</li> </ol> <p>The information displayed on the website is stored online, in a <strong>GitHub repository.</strong> GitHub is an open-source development platform allows for multiple users to collaborate, track changes, and document work such as data files and code. Therefore, any changes made to the files contained within the GitHub repository will be displayed on the WebApp for all team members to view. See below for how to modify files using GitHub.</p> </div> <div id="using-the-webapp" class="section level2"> <h2><span class="header-section-number">3.2</span> Using the WebApp</h2> <p>When first exploring a WebApp (for example, <a href="http://ohi-science.org/ecu">http://ohi-science.org/ecu</a>), first note that it is possible to <strong>translate</strong> the site into any language that Google provides using the pull-down menu at the top.</p> <div class="figure"> <img src="https://docs.google.com/drawings/d/11Gojqw0Xz4kUo_uM1Y699EKO3qN_dae0w93ICzXJ2Pg/pub?w=960&amp;h=720" /> </div> <p>The WebApp homepage provides several tabs for you to explore. The interactive <strong>App</strong> sub-page allows you to explore input data layers and output calculated scores for each region (See <strong>Overview of Variable Options</strong>). More detailed information is about the default <strong>regions</strong> and <strong>data layers</strong>, <strong>goal models</strong>, and <strong>calculated scores</strong> based on global data can be viewed in separate tabs, as well as through the App page. A quick reference about navigating the WebApp is available through the <strong>Docs</strong> link at the bottom of the page. When your team has finalized data layers and updated goal models, these data and scores will be visualized through the WebApp.</p> </div> <div id="the-app-page" class="section level2"> <h2><span class="header-section-number">3.3</span> The App Page</h2> <p>The App page allows you to explore and visualize input data layers and calculated output scores for each region in the study area. By default, global data are presented for each subcountry region in the study area, and scores are calculated for each region using those data.</p> <p>The App pagedisplays this information through two tabs: Data and Compare. The <strong>Data</strong> tab provides several subtabs for viewing data (<em>Map</em>, <em>Histogram</em>, <em>Table</em>), and is the default tab when the Toolbox is launched. The <strong>Compare</strong> tab is most useful for comparing output scores when modifications are made to the underlying data or models (this provides a way to error check) once you have begun the process of calculating your own assessment.</p> <p>The App provides two Branch/Scenario options to view, identified in the upper-left corner of the Data tab. The <strong>Branch</strong> options refer to the versions of the GitHub repository where data are stored. Branches start off as copies of the same repository, but can be modified independently of each other, enabling progress to be made on one (‘draft’ branch) while not altering the vetted original (‘published’ branch). These branches can be merged back together at any time. The App page will display the ‘published branch’ by default; we recommend working on the ‘draft’ branch until your assessment is finalized, at which point you would merge the draft branch with the published branch.</p> <p><strong>Scenario</strong> folders contain all the files needed to calculate scores. Scenario folders can differ from each other based on the years included (i.e., 2014 would be a different scenario from 2015), or they can be used to explore outcomes of policy alternatives, such as implementation of a proposed Marine Protected Area network or fisheries regulations.</p> </div> <div id="the-apps-data-tab" class="section level2"> <h2><span class="header-section-number">3.4</span> The App’s Data tab</h2> <div id="overview-of-display-options" class="section level3"> <h3><span class="header-section-number">3.4.1</span> Overview of display options</h3> <p>The Data tab displays input data layer or calculated scores for each goal parameter, and presents the information as a map, histogram, or table. These options (<em>Map</em>, <em>Histogram</em>, <em>Table</em>) are presented as subtabs located the map. The Map subtab is the default display option for the Data tab, and all data presented are based on data from global assessments.</p> <p><strong>Data displayed in the Map subtab:</strong></p> <div class="figure"> <img src="fig/datapage_view.png" /> </div> <p>The map displays data for every region as reported in the scenario. A color legend is displayed in the lower right corner of the map that provides a linear colormap of the data. The range of values will change as different variables are selected.</p> <p><strong>Data displayed in the Histogram subtab:</strong></p> <div class="figure"> <img src="fig/histogrampage_view.png" /> </div> <p>The histogram shows the distribution of the selected variable as the number of observations per value bin (white bars) and a smoothed density function (pink shading).</p> <p><strong>Data displayed in the Table subtab:</strong></p> <div class="figure"> <img src="fig/tablepage_view.png" /> </div> <p>The table displays the target value for each region and the overall study area. It provides an identifying code (rgn_id), name (rgn_name), and value (value) for each.</p> </div> <div id="overview-of-variable-options" class="section level3"> <h3><span class="header-section-number">3.4.2</span> Overview of variable options</h3> <p>The Data tab has drop-down menus from which you choose the data to be displayed. Data selected from the pull-down menus can be viewed in Map, Histogram, or Table form as described in the section above. Descriptions, statistics and metadata for the chosen fields are also displayed below the drop-down menus on the left side of the tab.</p> <div class="figure"> <img src="fig/varible_options_view.png" /> </div> <p>The first selection to be made from the drop-down menus is variable type, in which you can choose the <strong>Output Score</strong> that will show a calculated score (for a particular target chosen subsequently), or <strong>Input Layer</strong> that will show the data layer used to calculate the score of a particular target. To reiterate, Output Scores are the scores calculated using the Input Layers (data layers).</p> <p>For example, if you select ‘Output Score’ as the variable type (which is the default), you will then be able to choose a target (goal or sub-goal), and the OHI dimension to be reported.</p> <p>As another example, if you select ‘Input Layer’ as the variable type, you will be able to choose a target and a specific data layer associated with that target. If that layer has multiple categories or years available, you will be able to select a preference. Without selection, the default setting is the first category alphabetically and the most recent year.</p> <div class="figure"> <img src="fig/overview_variable_options2.png" /> </div> </div> </div> <div id="the-apps-compare-tab" class="section level2"> <h2><span class="header-section-number">3.5</span> The App’s Compare tab</h2> <p>The <strong>Compare</strong> tab allows you to compare differences in calculated scores based on changes you have made to the underlying data layers. Visualizing these differences is extremely helpful for confirming results and error checking. Instructions about how to use the Compare function are presented &lt;<where??>&gt; following more context about why you might want to use this functionality.</p> </div> <div id="before-conducting-an-assessment" class="section level2"> <h2><span class="header-section-number">3.6</span> Before conducting an assessment</h2> <blockquote> <p><strong>Section Summary:</strong></p> </blockquote> <blockquote> <p>This section advises you on how to plan for a successful assessment. From engaging decision-makers early on, to maintaining future assessment efforts, here are some key points to consider.</p> </blockquote> <p>Before conducting an assessment, it is important to prepare the following:</p> <ul> <li>Develop a strategic plan and timeline <ul> <li>establish the need for an assessment</li> <li>define the spatial scale of the assessment: country, state, eco-region, etc.</li> <li>determine the resources available</li> <li>outline a timeline with necessary meetings and workshops</li> <li>engage decision-makers early for results to be most useful</li> </ul></li> <li>Assemble a qualified team with diverse skills and knowledge, including: <ul> <li>a broad scientific understanding and experience with environmental policy</li> <li>ability to manage large data sets, make decisions, and think creatively</li> <li>capacity to collaborate in a multidisciplinary team, remotely and in person</li> <li>team members who can use the statistical programming language R (<a href="http://cran.r-project.org/">http://cran.r-project.org/</a>), ArcGIS or other spatial analysis software, and are fluent in English</li> </ul></li> <li>Funding <ul> <li>greatly depends on the local context</li> <li>potentially needed for a management and scientific team, workshops and meetings (including travel), communications, policy engagement, and operating costs</li> </ul></li> <li>Policy and management interest <ul> <li>engage decision-makers early: informing policies to improve ocean health is most effective if there is early interest and engagement from government agencies and decision-making bodies</li> <li>requires ongoing communication during Index development to best inform management actions</li> <li>repeated assessments as new data become available enable tracking ocean health through time and evaluating management and policy interventions</li> </ul></li> </ul> </div> </div> <div id="conducting-an-assessment" class="section level1"> <h1><span class="header-section-number">4</span> Conducting an Assessment</h1> <blockquote> <p><strong>Section Summary:</strong></p> </blockquote> <blockquote> <p>In this section, you will learn what to think about before conducting an assessment. Your team should already be familiar with the OHI approach and can now prepare for tailoring it to the local context.</p> </blockquote> <blockquote> <p>TIP: Careful planning before an assessment will pay off later.</p> </blockquote> <div id="what-to-expect-when-conducting-an-assessment" class="section level2"> <h2><span class="header-section-number">4.1</span> What to expect when conducting an assessment</h2> <p>There are key considerations and processes that will be a part of every assessment, however, the process for conducting each assessment will be unique depending on the local context. For example: what data and indicators are available will determine how goal models can be tailored to the region, and what skillsets and resources are involved will affect the time it takes to complete the assessment.</p> <div id="timeline" class="section level3"> <h3><span class="header-section-number">4.1.1</span> Timeline</h3> <p>The time required to complete an assessment depends on the local context and available resources, but the proportion of time required for different phases of the assessment is more predictable.</p> <p><strong>Expect strategic planning, discovering and gathering data, and developing reference points and models to comprise &gt; 80% of the time allotted for the assessment.</strong></p> <div class="figure"> <img src="fig/task_timeline.png" /> </div> </div> </div> <div id="where-to-start" class="section level2"> <h2><span class="header-section-number">4.2</span> Where to start</h2> <p>You should start by understanding the structure of the global assessment and the data involved will help you think about what should be done differently in your local context.</p> <p>The best way to do this is to begin with the WebApps. As described in the section, **“Overview of the OHI WebApp**“, most coastal countries have a WebApp that was created to facilitate planning and communication during your assessment. The WebApp presents data, goal models and calculated scores for each region (global administrative area identified by gadm.org) visually through maps, histograms, and tables. All data presented were extracted from the global analysis, and scores were calculated using global goal models. For a finer-scale assessment of ocean health in your region, these data files provided will need to be updated with available data and indicators for each region in your assessment. However, if better data are not available, you can use the data provided. Then, to dive deeper into data layers and goal models, you can explore your assessment’s GitHub repository, which stores all the information presented through the WebApp.</p> <p>You should also be familiar with the approaches taken by other assessments adapted from the global context, including Brazil, the US West Coast, and Fiji. You can find these studies at ohi-science.org.</p> <p>While our team of scientists and managers is prepared to provide guidance for assessments, you should follow the steps in this training program to complete your assessment as autonomously as possible.</p> </div> <div id="points-to-remember" class="section level2"> <h2><span class="header-section-number">4.3</span> Points to remember</h2> <p>We recommend keeping in mind the following as you develop your approach:</p> <ul> <li>People are part of ocean health <ul> <li>economic and social data are included in OHI: consider how people are locally engaging with the ocean</li> </ul></li> <li>Goal models should be modified to capture local characteristics and priorities that can be measured with available data <ul> <li>after identifying what is important locally, identify direct or indirect measures to develop tailored goal models<br /></li> </ul></li> <li>Assessments can use a mix of regional-, country- and global-scale data <ul> <li>include the finest-scale data available, but when this is not possible, rely on global-scale data</li> </ul></li> <li>Scores are calculated by region and then aggregated to the study area <ul> <li>comparing scores between regions is a primary reason for conducting a independent assessment</li> <li>goal models and data layers are the same across all regions; data values will vary by region. For example, the carbon storage goal model is the same for each region, but the habitats present in each region, and the area and condition of those habitats (the data values) are specific to each region</li> </ul></li> <li>All data do not need to be at the same spatial or temporal scale <ul> <li>each assessment should represent the best understanding of ocean health at a point in time. For example, if fisheries data are available from 1980-2011 and tourism data are available from 2008-2012; these can both be used to represent current ocean health</li> </ul></li> <li>Document all decisions made, including: <ul> <li>all data sources (publications, website URL, date of access, etc).</li> <li>processes for establishing reference points,</li> <li>how and why models were modified, and additionally why other potential modifications were not done, as this reminds yourself of past decisions and helps explain them to others in the future)</li> <li>that it is important for transparency, describing methods and explaining results in reports and publications, and for reproducibility (for any future comparable assessments in your study area)</li> </ul></li> </ul> </div> <div id="checklist-how-to-prepare-for-using-the-toolbox" class="section level2"> <h2><span class="header-section-number">4.4</span> Checklist: How to prepare for using the Toolbox</h2> <p>Most time spent conducting an assessment occurs before using the Toolbox to calculate scores. Prior to these calculations the Toolbox and WebApp can be used to understand the Index and as a tool to provide structure to its underlying framework. For example: how the data and models are used to calculate the ten goals (and, in some cases, corresponding subgoals) for each region and how these are combined to generate an overall score for each region can be explored with the Toolbox. At this point, the Toolbox provides a guideline for the data that must be collected and how it should be organized.</p> <p>When going through the checklist remember too that a motivation for conducting an assessment is to be able to modify goal models and set reference points using finer-scale, local information and reference points.</p> <p>The following list of tasks will not necessarily be accomplished in sequence: there is a lot of iteration of tasks as you discover data, develop reference points and models, and revisit other data possibilities. This checklist identifies decisions and steps that must be done before the Toolbox can be used to calculate your goal scores:</p> <ul> <li>Understand the philosophy of OHI <ul> <li>what the goals represent, how they are modeled, and what types of data are included</li> <li>what pressures and resilience data are included</li> <li>how reference points are set</li> </ul></li> <li>Identify local characteristics and priorities <ul> <li>what local cultural preferences or priorities should be captured in the assessment?</li> <li>should any goals be removed?</li> <li>should any goals be redefined?</li> <li>should other goals be added?</li> <li>should goals be weighted unequally?</li> <li>what are social and ecological pressures to the local system?</li> <li>what social and ecological resilience measures (laws, regulations, restoration projects) are in place locally?</li> </ul></li> <li>Be familiar with the global inputs (data and models) used in the WebApp <ul> <li>understand the data and models used in global assessments</li> <li>prioritize which data and models should be updated to better represent local characteristics and priorities</li> </ul></li> <li>Decide the spatial scale for regions within the study area <ul> <li>do the WebApp regions (states or provinces) make sense? If not, what alternate scales are more appropriate?</li> <li>we recommend multiple regions to allow for comparisons and determine geographic priorities within the study area</li> <li>regions should be at the smallest scale the data allow</li> <li>at what spatial scale are data most frequently reported?</li> <li>at what spatial scale are policy decisions made (optional)?</li> </ul></li> <li>Discover and gather appropriate data and indicators <ul> <li>what local data and indicators are available for goal models?</li> <li>what local data and indicators are available for pressures and resilience?</li> <li>are available data and indicators relevant to OHI?</li> <li>are local data and indicators at the appropriate temporal scales?</li> <li>how should reference points be set for local data?</li> <li>process and format data and indicators to create data layers for the Toolbox (See ‘Formatting Data for the Toolbox’ section below)</li> <li>use the Toolbox repository as a registry to organize data layers</li> </ul></li> <li>Update pressures and resilience information <ul> <li>determine whether all global pressures are relevant locally</li> <li>identify local pressures not captured in the global pressures matrix</li> <li>categorize any new local pressures layers</li> <li>set pressure weighting/ranking based on literature, expert opinion</li> <li>identify potential resilience measures for each of the pressures identified</li> <li>determine what datasets may be available to measure resilience metrics</li> </ul></li> <li>Modify goal models mathematically: <ul> <li>how can goal models be represented mathematically using locally available data and indicators?</li> <li>can reference points be refined using locally available data and indicators, government mandates, management targets, obligations from multilateral agreements?</li> </ul></li> </ul> </div> <div id="discovering-and-gathering-appropriate-data-and-indicators" class="section level2"> <h2><span class="header-section-number">4.5</span> Discovering and Gathering Appropriate Data and Indicators</h2> <p>The OHI spans disciplines and integrates diverse data to give a comprehensive assessment of ocean health. A hallmark of the OHI is that it uses freely-available, existing data and indicators to create models that capture the philosophy of individual goals, and finding appropriate data requires good problem-solving abilities. There are many decisions to make when gathering from disparate sources, identifying good proxies and indicators, deciding reference points, and developing goal models.</p> <p>** The accuracy of Index scores is a reflection of input data quality and the degree of understanding of the study area, and thus including the best quality and appropriate data and indicators available is of highest importance.**</p> <p>Because the data and indicators you use will come from different sources and available from online databases, reports, spreadsheets and text files, they will also have different formatting. To include these data and indicators in your assessment, you will need to process these files into the format required by the Toolbox, which is explained in the section, <strong>Formatting Data for the Toolbox</strong>. When data have been prepared and formatted for the Toolbox, we call it a <strong>data layer.</strong> Because creating data layers can be quite time-intensive, data should only be prepared for the Toolbox after final decisions have been made to include the data or indicator in your assessment, and after the appropriate goal model and reference points have been finalized.</p> <p>There are many data layers included in the OHI framework. There are about eighty individual data layers from the global assessment that should be replaced with higher-resolution data in your study area where possible. You will need to search for data used to calculate status models as well as pressures and resilience layers.</p> <div id="data-sources" class="section level3"> <h3><span class="header-section-number">4.5.1</span> Data sources</h3> <p>Existing data and indicators can be gathered from many sources across environmental, social, and economic disciplines, including:</p> <ul> <li>government reports and project websites</li> <li>peer-reviewed literature</li> <li>masters and PhD theses</li> <li>university websites</li> <li>non-profit organizations</li> </ul> <p>All data must be rescaled to specific reference points (targets) before being combined with the Toolbox; therefore setting these reference points at the appropriate scale is a fundamental component of any OHI assessment. This requires your assessment team to interpret the philosophy of each Index goal and sub-goal using the best available data and indicators. Some indicators already are scaled (e.g., from 0-1 or 0-10), and can easily be incorporated into your assessment since the reference points have already been identified.</p> </div> <div id="gathering-responsibilities" class="section level3"> <h3><span class="header-section-number">4.5.2</span> Gathering responsibilities</h3> <p>Gathering appropriate data requires searching for and accessing existing data. You do not have to go collect the data itself, but you do need to discover and acquire existing data. It is important that team members responsible for data discovery make thoughtful decisions about whether data are appropriate for the assessment, and that they get feedback from the full team to discuss the merits of different data sources. Data discovery and acquisition are typically an iterative process, as there are both practical and philosophical reasons for including or excluding data.</p> <p>When you begin exploring data possibilities, you can seek local data sources that could directly replace data from the global assessment provided in your repository. Such data would be better quality, i.e., higher accuracy and spatio-temporal resolution, than the data from the global assessment, and models may not need to change. However, we recommend first exploring other data possibilities that could capture specific characteristics to your study area. Assessments conducted at smaller scales are an opportunity to include characteristics specific to your study area that were not captured in the global assessment.</p> </div> <div id="the-process-of-discovery" class="section level3"> <h3><span class="header-section-number">4.5.3</span> The process of discovery</h3> <p>The most important thing to remember when gathering data and indicators is that they must contribute to measuring ocean health. Not all information that enhances our knowledge of marine processes directly convey information about ocean health and may not be appropriate within the OHI framework. Because of this, compiled indicators can sometimes be more suitable than raw data measuring single marine attributes.</p> <p>Begin by understanding and comparing the best approaches used in assessments that have been completed, including global assessments, Brazil, Fiji, and the US West Coast. For the smaller-scale assessments (i.e., anything but the global assessments), if finer-resolution local data were available in the study area, these data were either incorporated into modified goal models that used locally appropriate and informed approaches or into the existing global goal model. When local data were not available, the global-scale data and global goal models were used, which is least desirable because it does not provide more information than the global study. When looking for data, the following decision tree may be useful. This should be a goal-by-goal process:</p> <div class="figure"> <img src="https://docs.google.com/drawings/d/1bJ3lk0stX78YM_VVR8VDAmdVUcMv4riSZk-0L2x8ybw/pub?w=624&amp;h=336" /> </div> </div> <div id="requirements-for-data-and-indicators" class="section level3"> <h3><span class="header-section-number">4.5.4</span> Requirements for data and indicators</h3> <p>There are six requirements to remember when investigating (or ‘scoping’) potential data and indicators. It is important that data satisfy as many of these requirements as possible, at times requiring gap-filling solutions. If requirements are not met and gap-filling solutions are not possible, you will likely need to exclude a dataset from the analyses. If data cannot be included, you may elect to use the global data layers or identify other data and a different modeling approach.</p> <ol style="list-style-type: decimal"> <li>relevance to ocean health</li> <li>accessibility</li> <li>quality</li> <li>how to set the reference point</li> <li>spatial scale</li> <li>temporal scale</li> </ol> <div id="relevance-to-ocean-health" class="section level4"> <h4><span class="header-section-number">4.5.4.1</span> Relevance to ocean health</h4> <p>There must be a clear connection between the data and ocean health, and determining this will be closely linked to each goal model.</p> </div> <div id="accessibility" class="section level4"> <h4><span class="header-section-number">4.5.4.2</span> Accessibility</h4> <p>The two main points regarding accessibility are whether the source is open access and whether the data or indicators will be updated regularly.</p> <p>The Index was created in the spirit of transparency and open-access, using open-source software and online platforms such as GitHub, is to ensure as much accessibility and open collaboration as possible. Data and indicators included should also follow these guidelines, so that anyone wishing to understand more about the Index may be able to see what data were used and how. For this reason we emphasize the importance of using data that may be made freely downloadable, as well as the importance of clearly documenting all data sources and reasons for the choices made in selecting data, indicators, and models.</p> <p>Index scores can be recalculated annually as new data become available. This can establish a baseline of ocean health and serve as a monitoring mechanism to evaluate the effectiveness of actions and policies in improving the status of overall ocean health. This is good to keep in mind while looking for data: will it be available again in the future? It is also important to document the sources of all data so that it is both transparent where it came from and you will be able to find it in the future.</p> </div> <div id="quality" class="section level4"> <h4><span class="header-section-number">4.5.4.3</span> Quality</h4> <p>Understanding how the data or indicators were collected or created is important. Are they collected by a respected organization with quality control? Are there any protocol changes to be aware of, e.g., were there changes in the collection protocol to be aware of when interpreting temporal trends?</p> </div> <div id="reference-point" class="section level4"> <h4><span class="header-section-number">4.5.4.4</span> Reference point</h4> <p>Most data will need to be scaled to a reference point, as you consider different data sources it is important to think about or identify what a reasonable reference point may be. Ask the following types of questions as you explore data possibilities:</p> <ul> <li>Has past research identified potential targets for these data?</li> <li>example: maximum sustainable yield in fisheries</li> <li>Have policy targets been set regarding these data?</li> <li>example: maximum levels of pollutants before beach closures</li> <li>Would a historic reference point be an appropriate target?</li> <li>example: percent of habitat coverage before coastal development</li> <li>Could a region within the study area be set as a spatial reference point?</li> <li>example: a certain region a leader in creating protected areas</li> </ul> </div> <div id="appropriate-spatial-scale" class="section level4"> <h4><span class="header-section-number">4.5.4.5</span> Appropriate spatial scale</h4> <p>Data must be available for every region within the study area.*</p> </div> <div id="appropriate-temporal-scale" class="section level4"> <h4><span class="header-section-number">4.5.4.6</span> Appropriate temporal scale</h4> <p>Data must be available for at least three to five years to calculate the trend. For some goals, where temporal reference points are desirable, longer time series are preferable.*</p> <p>* It is not always possible to fully meet the spatial and temporal requirements with each source. In these cases, provided that the gaps are not extensive, it can still be possible to use these data if appropriate gap-filling techniques are used (See: ‘Formatting Data for Toolbox’ section).</p> </div> </div> <div id="example-us-west-coast-data-discovery" class="section level3"> <h3><span class="header-section-number">4.5.5</span> Example: US West Coast data discovery</h3> <p>Below are examples of some decisions made when exploring available data for the US West Coast assessment. Determining whether certain data could be included began with a solid understanding of the data layers and models included in the global assessment. Since the US West Coast is a data-rich region, finer-resolution local data could be used in place of many of the global data layers. The US West Coast assessment had five regions: Washington, Oregon, Northern California, Central California, and Southern California.</p> <div id="reasons-data-were-excluded" class="section level4"> <h4><span class="header-section-number">4.5.5.1</span> Reasons data were excluded</h4> <p>There are a lot of existing data that contribute to our scientific understanding of ocean processes and interactions but are not ideal for the OHI. Reasons to exclude data are both due to practical requirements (e.g., resolution, coverage, or other requirements that have been listed) and philosophical requirements (i.e., they do not help capture the attributes of interest for assessing ocean health). Some common reasons for excluding data are:</p> <ul> <li><p><strong>The data do not cover the entire area of the reporting region</strong>. The state of California had excellent, long-term data on public attendance at state parks that would have been quite useful in the calculation of the tourism and recreation goal. However, data were only available for three of the five regions (the three California regions but not Oregon and Washington), so they could not be used.</p></li> <li><p><strong>There is not a clear and scientifically observed relationship between the data and ocean health</strong>. Along the US West Coast, kelp beds are a very important habitat because of their contribution to biodiversity and coastal protection. However, kelp coverage variation and is driven primarily by abiotic natural forcing (wave/storm disturbance and temperature) and thus it is not a good indicator of kelp forest health, particularly in the case of anthropogenic impacts. For these reasons kelp coverage was not included in the assessment.</p></li> <li><p><strong>The feature being measured may provide benefits to people, but this feature is not derived from marine or coastal ecosystems</strong>. Sea walls and riprap provide coastal protection to many people along the US West Coast. However, these structures are not a benefit that is derived from the marine ecosystems, so only coastal habitats were included in the calculation of this goal. These data can be included as a pressure due to habitat loss. They were not used as a resilience measure because they can often have negative side effects (e.g., by altering sedimentation dynamics), and because they have limited long-term sustainability (i.e., they need maintenance).</p></li> <li><p><strong>Data collection is biased and might misrepresent ocean health</strong>. The US Endangered Species Act identifies a species list focused on species of concern within the US. As such, these data are biased in the context of ocean health since they only assess species whose populations may be in danger. For the calculation of the biodiversity goal, using these data would be inappropriate because this goal represents the status of all species in the region, not just those that are currently of conservation concern. Using these data may have shown the status of biodiversity to be lower than it really is because the selection of species to assess was already biased towards species of concern.</p></li> <li><p><strong>Time series data are not long enough to calculate a trend or a reference point</strong> (when a historical reference point is most appropriate). For the US West Coast, the current extent of seagrass habitats was available, however, these do not exist for previous points in time in most areas, so could not be used to calculate the trend or set a historical reference point. Therefore, we estimated the trend in health of seagrass habitats using as a proxy the trend in the main stressor (i.e., turbidity). In other words, we assumed that the rate of seagrass loss was directly proportional to the rate of increase in turbidity. Similar solutions may be used to estimate trends in your own assessment, if there is scientific support for assuming that the trend of what we want to assess (or the relationship between the current state and the state in the reference year) has a strong relationship with the trend of the proxy data available.</p></li> </ul> </div> </div> </div> <div id="pressures-and-resilience" class="section level2"> <h2><span class="header-section-number">4.6</span> Pressures and resilience</h2> <p>The same considerations and requirements about data presented in the “**Gathering Appropriate Data&quot; section also apply to pressures and resilience. Pressures and resilience are organized in two separate matrices that indicate which measures affect which goals or goal components.</p> <div class="figure"> <img src="https://docs.google.com/drawings/d/1IQhFezmGGAgPS-iZQ_0TfU2FgtV0hv81f2RV9pyiJCI/pub?w=960&amp;h=480" /> </div> <p><strong>Pressures</strong> and <strong>Resilience</strong> are two of the four dimensions used to evaluate each goal or sub-goal (the other two are <strong>Status</strong> and <strong>Trend</strong>).</p> <ul> <li><strong>Pressures</strong> are the sum of the ecological and social pressures that negatively affect goal scores.</li> <li><strong>Resilience</strong> is the sum of the ecological and social status (e.g., food-web integrity, health of the governance process) and initiatives (e.g., environmental laws, social policies) that can positively affect goal scores by reducing or eliminating pressures. In the figure, likely future state (in yellow) is the result of the trend, minus the negative effect of pressures (grey), plus the positive effect of resilience (salmon pink).</li> </ul> <div class="figure"> <img src="https://docs.google.com/drawings/d/1GkLZnW8hQJf1KLX89LzViEBU4PkJ8kRqOERt_Fxtwu4/pub?w=864&amp;h=384" /> </div> <div id="matrices" class="section level3"> <h3><span class="header-section-number">4.6.1</span> Matrices</h3> <p>In your assessment, as you identify new sources for pressures and resilience layers, you will also need to update the pressures and resilience matrices. To update these matrices, you will need to:</p> <ul> <li>Evaluate which pressures and resilience measures included in the global assessment and determine whether they are relevant for the study area of your assessment.</li> <li>Evaluate whether the indicators used to capture the pressure and resilience attributes are suitable in your area, or whether you can use regionally-developed indicators instead.</li> <li>Identify and categorize new locally-relevant pressures not captured in the global pressures matrix. Make sure you add it under one of the five existing ecological categories or the pressure category (or create a new category if needed).</li> <li>Identify and categorize new local resilience measures (laws, regulatory process ranking, food-web integrity) not captured in the global resilience matrix.</li> <li>Set pressure and resilience weighting/ranking based on scientific literature and expert opinions.</li> </ul> <div id="to-consider-when-updating-pressures" class="section level4"> <h4><span class="header-section-number">4.6.1.1</span> To consider when updating pressures</h4> <p><strong>Pressure categories</strong></p> <p>The OHI framework calculates pressures by first grouping them into an ecological pressure component divided in five categories (pollution, habitat destruction, fishing pressure, species pollution, and climate change) and a social pressure component. The reason behind the ecological categories is to avoid hidden weighting. For example, in the global assessment there were many pollution datasets available, but few distinct habitat destruction datasets. If we simply averaged the individual stressor scores, pollution scores would have a greater influence on the results (stronger weight) just because people have monitored pollution by measuring many separate components.</p> <p>Instead, aggregating by pressure categories first ensures that different stressor types influence the score based on the expert-based ranking. Nonetheless, to account for the fact that multiple different stressors within a category are likely to have a cumulative impact that is greater than if only one of the stressors were present, the scores are combined in a cumulative way within each category. The resulting scores are then averaged across ecological pressure categories. This result, in turn, is averaged with the social pressures to produce the final overall pressure score.</p> <p><strong>Pressure weights</strong></p> <p>Ecological and social pressure components are assessed separately and then the two resulting scores are combined with equal weighting, which can be changed if there is local information on how to do so.</p> <p>Ecological and social resilience are assessed separately and then combined with equal weighting (which could also be changed based on expert opinion). Ecological resilience is divided into an ecological integrity score and a regulations score. Any resilience regulation score is associated with a pressure layer. This is because regulations are intended to contrast the effect of pressures. The OHI math is designed assuming that, when the regulation score matches the respective pressure score, they cancel each other out (i.e., the regulation is being effective in keeping the stressor under control). Therefore, by including a layer for regulatory response to each pressure affecting the delivery of the goals, we ensure that the resilience regulation measures are relevant to ocean health.</p> <p><strong>Pressure and Status interactions</strong></p> <p>Note that a consequence of this structure is that goals may interact with each other. The pressure created by one goal may affect a second goal. For example, cultivating fish for mariculture (food provision sub-goal) can cause genetic escapes threatening the health of wild fish populations (captured through the <code>sp_genetic</code> layer in the figure). This pressure affects only the wild-caught fisheries and species sub-goals, but does not affect the mariculture goal itself. In other cases, such as the fishing harvest pressure, the pressure comes as a result of pursuing the food provision sub-goal of wild-caught fisheries, affecting several goals including the fishing sub-goal itself.</p> </div> </div> <div id="explore-local-pressures" class="section level3"> <h3><span class="header-section-number">4.6.2</span> Explore local pressures</h3> <p>Begin by exploring the pressures included in the global pressures matrix. You can explore this in Halpern <em>et al</em>. 2012 Supplementary Table S25, or in your assessment repository located at <code>subcountry2014/conf/pressures_matrix.csv</code>; (more information on the file system in the section, <strong>File System</strong>). As illustrated below, pressures are either ecological or social, and are grouped into six categories: pollution, habitat destruction, fishing pressure, species pollution, climate change, and social pressures. In the figure, the clean waters goal is affected by four data layers within the pollution category, as well as one in the social category.</p> <div class="figure"> <img src="fig/pressure_categories.png" /> </div> <p>Pressures (columns in <code>pressures_matrix.csv</code>) are matched with different goals and subgoals (rows) to indicate which pressures to include when goal scores are calculated. In some cases, the goals are further divided into components (e.g., Habitat type: mangroves, seagrass, corals; natural products: seashells, fish for aquarium, etc.).</p> </div> <div id="updating-the-pressures-matrix" class="section level3"> <h3><span class="header-section-number">4.6.3</span> Updating the pressures matrix</h3> <p>The first step in updating the pressures matrix for your assessment is to determine if any of the global pressures should be excluded from your study. For example, if there is no mariculture in your study area, perhaps there are also no genetic escapes (<code>sp_genetic</code> layer).</p> <p>Next, brainstorm local pressures that are not captured in <code>pressures_matrix.csv</code>. Which pressures stand out in your study area? Pressures included in the <code>pressures_matrix.csv</code> are ultimately determined by available data, and thus there were pressures that were important but could not be included in the global assessment because there were little or no data, such as altered sediment regimes, noise and light pollution, toxic chemicals from point sources, and nutrient pollution from atmospheric deposition, and land-based sources other than fertilizer and pesticide applications to agricultural land). There are likely pressures important to your study area that were not captured in the global pressures matrix. Another reason why pressures in the global assessment may be different than yours may be because of scale: certain sources of pollution, such as mariculture, may be very relevant at the scale of a single bay, but become negligible at the scale of the whole country’s coastline.</p> <p><strong>Table of pressures layers and descriptions</strong></p> <table> <thead> <tr class="header"> <th align="left">layer</th> <th align="left">name</th> </tr> </thead> <tbody> <tr class="odd"> <td align="left">cc_acid</td> <td align="left">Ocean acidification</td> </tr> <tr class="even"> <td align="left">cc_slr</td> <td align="left">Sea level rise</td> </tr> <tr class="odd"> <td align="left">cc_sst</td> <td align="left">Sea surface temperature (SST) anomalies</td> </tr> <tr class="even"> <td align="left">cc_uv</td> <td align="left">UV radiation</td> </tr> <tr class="odd"> <td align="left">fp_art_hb</td> <td align="left">High bycatch caused by artisanal fishing</td> </tr> <tr class="even"> <td align="left">fp_art_lb</td> <td align="left">Low bycatch caused by artisanal fishing</td> </tr> <tr class="odd"> <td align="left">fp_com_hb</td> <td align="left">High bycatch caused by commercial fishing</td> </tr> <tr class="even"> <td align="left">fp_com_lb</td> <td align="left">Low bycatch caused by commercial fishing</td> </tr> <tr class="odd"> <td align="left">fp_targetharvest</td> <td align="left">Targeted harvest of cetaceans and sea turtles</td> </tr> <tr class="even"> <td align="left">hd_intertidal</td> <td align="left">Coastal population density as a proxy for intertidal habitat destruction</td> </tr> <tr class="odd"> <td align="left">hd_subtidal_hb</td> <td align="left">High bycatch artisanal fishing practices as a proxy for subtidal hard bottom habitat destruction</td> </tr> <tr class="even"> <td align="left">hd_subtidal_sb</td> <td align="left">High bycatch commercial fishing practices as a proxy for subtidal soft bottom habitat destruction</td> </tr> <tr class="odd"> <td align="left">po_chemicals_3nm</td> <td align="left">Land-based chemical pollution</td> </tr> <tr class="even"> <td align="left">po_nutrients_3nm</td> <td align="left">Coastal nutrient pollution</td> </tr> <tr class="odd"> <td align="left">sp_alien</td> <td align="left">Alien species</td> </tr> <tr class="even"> <td align="left">sp_genetic</td> <td align="left">Introduced species as a proxy for genetic escapes</td> </tr> <tr class="odd"> <td align="left">ss_wgi</td> <td align="left">Weakness of governance indicated with the WGI</td> </tr> <tr class="even"> <td align="left">po_chemicals</td> <td align="left">Ocean-based chemical pollution</td> </tr> <tr class="odd"> <td align="left">po_nutrients</td> <td align="left">Ocean nutrient pollution</td> </tr> <tr class="even"> <td align="left">po_pathogens</td> <td align="left">Access to improved sanitation as a proxy for pathogen pollution</td> </tr> <tr class="odd"> <td align="left">po_trash</td> <td align="left">Trash pollution</td> </tr> </tbody> </table> </div> <div id="some-spatial-considerations" class="section level3"> <h3><span class="header-section-number">4.6.4</span> Some spatial considerations</h3> <p>For pressure layers that are derived from spatially-explicit data, it is important to consider to what portion of the study area that pressure is relevant. For example, in the global study, nutrient and chemical pollution were calculated from the global cumulative impact study (spatial data from Halpern <em>et al.</em> 2008). These data were clipped to each global region’s EEZ: 200 nm from the coast:</p> <ul> <li>For some goals, the data clipped to the EEZ affects goals that occur far from shore, so <code>po_chemicals</code> applies to goals relevant offshore: FIS, MAR, ECO, and SPP.</li> <li>However, some goals are really only relevant nearshore, so we clipped the spatial data again, to 3nm from shore and used this as a separate input. So <code>po_chemicals_3nm</code> applies to goals nearshore: AO, CS, CP, TR, ICO, LSP, HAB.</li> </ul> <p>These distinctions won’t always apply for smaller-scale assessments. For example, in the US West Coast study (Halpern <em>et al.</em> 2014), only a single <code>po_chemicals</code> layer was used: we did not distinguish between offshore and 3nm.</p> </div> <div id="determine-how-the-pressure-affects-goals" class="section level3"> <h3><span class="header-section-number">4.6.5</span> Determine how the pressure affects goals</h3> <p>Next, you will need to determine:</p> <ul> <li>which goals are affected by a given pressure layer.</li> <li>the appropriate rank weighting (how important the pressure is for the delivery of the goal/component).</li> <li>which pressure category the new pressure belongs.</li> </ul> <p>These decisions should depend on expert opinions and previous scientific studies.</p> <p>The original pressure matrix weights for instance were determined by Halpern <em>et al</em>. 2012 (<em>Nature</em>) based on scientific literature and expert opinion (3=high, 2=medium, and 1=low pressure; stressors that have no impact drop out rather than being assigned a rank of zero, which would affect the average score). Pressures are ranked rather than being represented as a binary (yes/no) measure because the range of consequence of different pressures on each goal can be quite large, and to classify all those pressures as a simple ‘yes’ would give too much influence to the weakest stressors. For example, food provision is most heavily impacted by unsustainable, high-bycatch fishing, but pollution does have some impact on fish populations. Without a weighting system, these stressors would be treated equally in their impact on the food provision goal.</p> <p>Most likely, the new pressure will fit into one of the existing categories. However, depending on the type of pressures in your study area, it is possible that a new pressure category could be created. If you decide to create a new category, be mindful of the implications described above.</p> </div> <div id="identify-available-pressures-data" class="section level3"> <h3><span class="header-section-number">4.6.6</span> Identify available pressures data</h3> <p>Like the global study, what pressures you are able to include in your assessment will also depend on data availability. Remember that each column in <code>pressures_matrix.csv</code> is a data layer, which requires data for each region in your study area. Begin with a list of local pressures that are important, and then refine if data are not available.</p> <p>In addition to data for the local pressures you identify, it will likely be possible to find better, local data to replace the global template data layers from the pressures matrix. In this case, you will first find local data and then update the pressure data layer as you would with any other data layer. See the ‘<strong>Modifying and Creating Data Layers</strong>’ section for how to do this.</p> <p>It is important to keep in mind that each pressure layer needs to capture the stressor on a scale that goes from 0 (no stressor at all) to 100 (the highest possible value for the stressor, or the value at which the goal achievement is completely impaired). In other words, when using local data, ensure that you are able to come up with benchmarks to rescale the pressure layer from 0 to 100.</p> </div> <div id="explore-local-resilience" class="section level3"> <h3><span class="header-section-number">4.6.7</span> Explore local resilience</h3> <p>As with the pressures matrix, begin by exploring the resilience measures included in the global resilience matrix (from Halpern <em>et al</em>. 2012 Table S26 or <code>subcountry2014/conf/resilience_matrix.csv</code>). As illustrated in the figure, resilience is also grouped into ecological and social categories, and includes ecological components, goal-specific regulations, and social components.</p> <p>In the example below, only one regulatory measure is relevant for the clean waters goal, along with one social integrity measure.</p> <div class="figure"> <img src="fig/resilience_categories.png" /> </div> <p>Goal-specific regulations intend to address ecological pressures, and are measured as laws, regulations, and other institutional measures related to a specific goal. Governance includes the laws or regulations that address the intended objective, implementation of such laws, and whether stated objectives have been effectively met. Social integrity is intended to describe those processes internal to a community that affect its resilience. It is a function of a wide range of aspects of social structure within a region, and may not be strictly marine related, but can inform the level of governance within a region and therefore the ability to respond to or prevent environmental challenges.</p> <p>The first step in updating the resilience matrix for your assessment is to determine if any resilience measures should be excluded from your study. Next, brainstorm local resilience measures that are not captured in <code>resilience_matrix.csv</code>. What are important regulatory measures to address the stressors you’ve included in your study area? Can you add social resilience measures that are not included in the global assessment?</p> <p><strong>Table of resilience layers and descriptions</strong></p> <table> <thead> <tr class="header"> <th align="left">layer</th> <th align="left">name</th> </tr> </thead> <tbody> <tr class="odd"> <td align="left">alien_species</td> <td align="left">Alien species</td> </tr> <tr class="even"> <td align="left">cites</td> <td align="left">Resilience from commitment to CITES</td> </tr> <tr class="odd"> <td align="left">fishing_v1</td> <td align="left">CBD survey: coastal fishing v1</td> </tr> <tr class="even"> <td align="left">fishing_v1_eez</td> <td align="left">CBD survey: ocean fishing v1</td> </tr> <tr class="odd"> <td align="left">fishing_v2_eez</td> <td align="left">CBD survey: ocean fishing v2</td> </tr> <tr class="even"> <td align="left">fishing_v3</td> <td align="left">CBD survey: coastal fishing v3</td> </tr> <tr class="odd"> <td align="left">fishing_v3_eez</td> <td align="left">CBD survey: ocean fishing v3</td> </tr> <tr class="even"> <td align="left">habitat</td> <td align="left">CBD survey: habitat</td> </tr> <tr class="odd"> <td align="left">habitat_combo</td> <td align="left">CBD survey: coastal habitat</td> </tr> <tr class="even"> <td align="left">habitat_combo_eez</td> <td align="left">CBD survey: ocean habitat</td> </tr> <tr class="odd"> <td align="left">li_gci</td> <td align="left">GCI: competitiveness in achieving sustained economic prosperity</td> </tr> <tr class="even"> <td align="left">li_sector_evenness</td> <td align="left">Sector evenness as a measure of economic diversity</td> </tr> <tr class="odd"> <td align="left">mariculture</td> <td align="left">CBD survey: mariculture</td> </tr> <tr class="even"> <td align="left">msi_gov</td> <td align="left">MSI sustainability and regulations</td> </tr> <tr class="odd"> <td align="left">species_diversity</td> <td align="left">Ocean ecological integrity</td> </tr> <tr class="even"> <td align="left">species_diversity_3nm</td> <td align="left">Coastal ecological integrity</td> </tr> <tr class="odd"> <td align="left">tourism</td> <td align="left">CBD survey: tourism</td> </tr> <tr class="even"> <td align="left">water</td> <td align="left">CBD survey: water</td> </tr> <tr class="odd"> <td align="left">wgi_all</td> <td align="left">Strength of governance indicated with the WGI</td> </tr> </tbody> </table> <p>* <em>CBD = Convention on Biological Diversity; GCI = Global Competitiveness Index; MSI = Mariculture Sustainability Index; WGI = World Governance Indicators</em>.</p> <p>Ecological integrity in the global assessment was measured as the relative condition of assessed species in a given location, and therefore is only relevant to a subset of goals (wild-caught fisheries, artisanal opportunity, natural products, iconic species, and species). Local measures of this component would potentially allow for more goals to be affected.</p> </div> <div id="identify-regulatory-resilience-measures-for-any-new-ecological-pressures" class="section level3"> <h3><span class="header-section-number">4.6.8</span> Identify regulatory resilience measures for any new ecological pressures</h3> <p>As you explore any new local resilience measures to be included, remember that any new pressure in the ecological integrity category with a high ranking of (2 or 3) will need a corresponding resilience measure.</p> </div> <div id="determine-how-the-resilience-measure-affects-goals" class="section level3"> <h3><span class="header-section-number">4.6.9</span> Determine how the resilience measure affects goals</h3> <p>Next, you will need to determine:</p> <ul> <li>which goals are affected by a given resilience measure</li> <li>the appropriate rank weighting, (how important the resilience is in counteracting a pressure)</li> <li>whether the resilience measure is social or ecological</li> </ul> <p>These decisions should depend on local expert knowledge and previous scientific studies.</p> </div> <div id="identify-available-resilience-data" class="section level3"> <h3><span class="header-section-number">4.6.10</span> Identify available resilience data</h3> <p>Resilience measures included in <code>resilience_matrix.csv</code> are also determined by available data, coarser spatial resolution, and may not reflect local management targets. When data or indicators are available, you should include them to improve upon resilience measures. You may also ask: What are local management benchmarks that you can use to rescale the resilience layers? Do you have locally-developed indices to capture social resilience that may be more specific to your area than the World Bank governance index? Do you have regional models that might capture the ecological integrity of the foodweb that could replace average extinction risk of IUCN-assessed species?</p> <p><strong>Ecological resilience</strong> scores are intended to describe the degree to which there are effective regulations to address ecological pressures, and are measured by assessing the relevant laws and institutional processes. It is difficult to assign a quantitative score to such a complex attribute. Moreover, it is challenging to establish a benchmark to compare that score against, but this is necessary to rescale the resilience score from 0 to 100. In some cases, some numerical indices are readily available and may be used as is (rescaled to the highest observed value, if necessary). In other cases, we had to assign expert-based scores:</p> <ol style="list-style-type: decimal"> <li>Existence of regulations: Are regulations in place to appropriately address the ecological pressure?</li> <li>Implementation and Enforcement: Have these regulations been appropriately implemented and are there enforcement mechanisms in place?</li> <li>Effectiveness and Compliance: How effective have the regulations been at mitigating these pressures and is there compliance with these regulations?</li> </ol> <p><strong>Social resilience</strong> may not be strictly marine related, but can help predict how well a region may be able to respond to or prevent new environmental challenges.</p> </div> </div> </div> <div id="the-ocean-health-index-toolbox" class="section level1"> <h1><span class="header-section-number">5</span> The Ocean Health Index Toolbox</h1> <blockquote> <p><strong>Section Summary:</strong></p> </blockquote> <blockquote> <p>In this section, you will learn the basics of how to use OHI tools for conducting an assessment. You will be introduced to the files you will be working with, how to prepare them, and you will learn how concepts such as status, trend, pressures, and resilience are used together to create the final score. You will also learn what to do in cases of missing data.</p> </blockquote> <blockquote> <p>TIP: Knowing where your data gaps are will make gapfilling easier in this process.</p> </blockquote> <p><strong>The OHI Toolbox</strong> is an ecosystem of data, scripts, and structure required to calculate OHI scores at any scale. Toolbox scripts are open source, written in the software language R, and data inputted into the Toolbox are <strong>comma-separated-value</strong>, or <em>.csv</em> files, which can be created or edited using text editors or Microsoft Excel. Files are stored within two folders called <strong>repositories</strong>, or <em>(repos)</em>, such that</p> <blockquote> <p>OHI Toolbox = your assessment repo + <code>ohi core functions</code> repo.</p> </blockquote> <p>We access and interact with the Toolbox ecosystem through an online collaborative platform called <strong>GitHub</strong>. GitHub stores the <strong>R</strong> scripts and <em>.csv</em> files in a folder called a repository, which is found online and can also be downloaded on your computer and synced with the online version. GitHub tracks changes by all collaborators working on the project through time, and saves all versions for comparison. The section, <strong>Installing the Toolbox</strong>, provides instruction on how to download GitHub repositories to your computer, but everything is also available online.</p> <p>The Toolbox is used to calculate final scores. But, perhaps more importantly, it can also be used to organize an assessment, including data identification and management. The Toolbox can additionally be used to compare how different management scenarios could affect overall ocean health, which can inform effective strategies for ocean resource management at a local scale.</p> <div id="file-system-for-assessment-repositories" class="section level2"> <h2><span class="header-section-number">5.1</span> File System for Assessment Repositories</h2> <p>This section is an orientation to the files within your assessment repository. The file system structure is the same whether you view your assessment repository online or after downloading or cloning to your computer (see section, <strong>“Installing the Toolbox”</strong>).</p> <p>Throughout this example, we will use Ecuador’s assessment repository as a guide. It’s available at <a href="https://github.com/OHI-Science/ecu">https://github.com/OHI-Science/ecu</a>.</p> <div id="assessments-and-scenarios" class="section level3"> <h3><span class="header-section-number">5.1.1</span> Assessments and scenarios</h3> <p>Your <em>assessment repository</em> contains a <em>scenario folder</em>, which by default is named <code>subcountry2014</code>. This scenario folder contains all the files needed to calculate scores, and they are described in detail below.</p> <p>The scenario folder is named <code>subcountry2014</code> because it contains data for your country used in the 2014 global assessment. These data in most cases were attributed equally to all regions within your study area (for example, data used for Ecuador in the global assessment was attributed to all coastal states in the files within <code>subcountry2014</code>).</p> <p>You will be able to rename your scenario folder to better reflect the spatial and temporal scale of your scenario after you have set up your GitHub account. We recommend that the name defines the scale of the regions and the year. Eventually, you will likely have multiple scenario folders that contain data for subsequent years or modifications to explore policy alternatives.</p> <div class="figure"> <img src="https://docs.google.com/drawings/d/1eHViTehnAuxSDw1fYI54C3X5YgBktGtaVt71R3OXYeE/pub?w=960&amp;h=720" /> </div> <p>In the above figure, <code>ecu</code> is the <strong>assessment repository</strong> and <code>subcountry2014</code> is the <strong>scenario folder</strong>. Note that files with names preceded by a ‘.’ do not appear when not viewing from github.com; this is because these files are specific to GitHub.</p> <div class="figure"> <img src="fig/ohiglobal_file_location.png" /> </div> <p>Within the <em>subcountry2014</em> folder area all the inputs required by the Toolbox. Each one is described in detail below.</p> <div class="figure"> <img src="fig/scenario_folder_overview.png" /> </div> </div> <div id="layers.csv" class="section level3"> <h3><span class="header-section-number">5.1.2</span> <em>layers.csv</em></h3> <p><code>layers.csv</code> is the registry that manages all data required for the assessment. All relevant data are prepared as a ‘data layer’ and registered in this file. The Toolbox will rely on information from this file to use the data layers and display information on the WebApp.</p> <div class="figure"> <img src="fig/layers_csv_registry.png" /> </div> <p>When you open <code>layers.csv</code>, you’ll see that each row of information represents a specific data layer that has been prepared for the Toolbox. The first columns (<em>targets, layer, name, description, fld_value, units, filename</em>) contain information that will be updated by your team as you incorporate your own data and edits; all other columns are generated later by the Toolbox as it confirms data formatting and content. The first columns have the following information:</p> <ul> <li><strong>targets</strong> indicates which goal or dimension uses the data layer. Goals are indicated with two-letter codes and sub-goals are indicated with three-letter codes, with pressures, resilience, and spatial layers indicated separately.</li> <li>Food Provision (FP): Fisheries (FIS) and Mariculture (MAR)</li> <li>Artisanal Fishing Opportunity (AO)</li> <li>Natural Products (NP)</li> <li>Coastal Protection (CP)</li> <li>Carbon Storage (CS)</li> <li>Livelihoods and Economies (LE): Livelihoods (LIV) and Economies (ECO)</li> <li>Tourism and Recreation (TR)</li> <li>Sense of Place: Lasting Special Places (LSP) and Iconic Species (ICO)</li> <li>Clean Waters (CW)</li> <li><p>Biodiversity (BD): Habitats (HAB) and Species (SPP)</p></li> <li><strong>layer</strong> is the identifying name of the data layer, which will be used in R scripts like <code>functions.R</code> and <em>.csv</em> files like <code>pressures_matrix.csv</code> and <code>resilience_matrix.csv</code>. This is also displayed on the WebApp under the drop-down menu when the variable type is ‘input layer’.</li> <li><strong>name</strong> is a longer title of the data layer; this is displayed on the WebApp under the drop-down menu when the variable type is ‘input layer’.</li> <li><strong>description</strong> is further description of the data layer; this is also displayed on the WebApp under the drop-down menu when the variable type is ‘input layer’.</li> <li><strong>fld_value</strong> indicates the units along with the units column.</li> <li><strong>units</strong> unit of measure in which the data are reported.</li> <li><p><strong>filename</strong> is the <em>.csv</em> filename that holds the data layer information, and is located in the folder <code>subcountry2014/layers</code>.</p></li> </ul> </div> <div id="layers-folder" class="section level3"> <h3><span class="header-section-number">5.1.3</span> <em>layers</em> folder</h3> <p>The <code>layers</code> folder contains every data layer as an individual <em>.csv</em> file. The names of the <em>.csv</em> files within the layers folder correspond to those listed in the <em>filename</em> column of the <code>layers.csv</code> file described above. All <em>.csv</em> files can be read with text editors or with Microsoft Excel or similar software.</p> <div class="figure"> <img src="fig/layers_folder_location.png" /> </div> <p>Note that each <em>.csv</em> file within the <code>layers</code> folder has a specific format that the Toolbox expects and requires. Comma separated value files (<em>.csv</em> files) can be opened with text editor software, or will open by default by Microsoft Excel or similar software.</p> <p>Now, open the <code>layers/alien_species.csv</code> file: note the unique region identifier (<em>rgn_id</em>) with a single associated <em>score</em> or <em>value</em>, and that the data are presented in ‘long format’ with minimal columns. See the section on <em>Formatting Data for the Toolbox</em> for further details and instructions. Scores can be viewed through the WebApp using the ‘Input Layer’ pulldown menu on the App page.</p> </div> <div id="conf-folder" class="section level3"> <h3><span class="header-section-number">5.1.4</span> <em>conf</em> folder</h3> <p>The <code>conf</code> (configuration) folder includes R functions (<code>config.R</code> and <code>functions.R</code>) and <em>.csv</em> files containing information that will be accessed by the R functions (<code>goals.csv</code>, <code>pressures_matrix.R</code>, <code>resilience_matrix.csv</code>, and <code>resilience_weights.csv</code>).</p> <div class="figure"> <img src="fig/layers_folder_location_conf.png" /> </div> <div id="config.r" class="section level4"> <h4><span class="header-section-number">5.1.4.1</span> <em>config.r</em></h4> <p><code>config.r</code> is an R script that configures labeling and constants appropriately.</p> </div> <div id="functions.r" class="section level4"> <h4><span class="header-section-number">5.1.4.2</span> <em>functions.r</em></h4> <p><code>functions.r</code> contains functions for each goal and sub-goal model, which calculate the status and trend using data layers identified as ‘layers’ in <code>layers.csv</code>. When you modify or develop new goal models, you will modify <code>functions.r</code>.</p> </div> <div id="goals.csv" class="section level4"> <h4><span class="header-section-number">5.1.4.3</span> <em>goals.csv</em></h4> <p><code>goals.csv</code> is a list of goals and sub-goals and their weights used to calculate the final score for each goal. Other information includes the goal description that is also presented in the WebApp. <code>goals.csv</code> also indicates the arguments passed to <code>functions.R</code>. These are indicated by two columns: <em>preindex_function</em> (functions for all goals that do not have sub-goals, and functions for all sub-goals) and <em>postindex_function</em> (functions for goals with sub-goals).</p> </div> <div id="pressures_matrix.csv" class="section level4"> <h4><span class="header-section-number">5.1.4.4</span> <em>pressures_matrix.csv</em></h4> <p><code>pressures_matrix.csv</code> defines the different types of ocean pressures and the goals they affect.</p> <p>Each column in the pressures matrix identifies a data layer that is also registered in <code>layers.csv</code>: and has a prefix (for example: <code>po_</code> for the pollution category). The pressure data layers are also required to have a value for every region in the study area, with the region scores ranging from 0-1.</p> </div> <div id="resilience_matrix.csv" class="section level4"> <h4><span class="header-section-number">5.1.4.5</span> <em>resilience_matrix.csv</em></h4> <p><code>resilience_matrix.csv</code> defines the different types of resilience with the goals that they affect.</p> <p>Like the pressures matrix, the resilience matrix also has weights depending on the level of protection. However, these weights are in a separate file: <code>resilience_weights.csv</code>.</p> <p>Each column in the resilience matrix is a data layer that is also registered in <code>layers.csv</code>. Resilience layers, like the pressure layers, are also required to have a value for every region in the study area. Resilience layers each have a score between 0-1.</p> </div> <div id="resilience_weights.csv" class="section level4"> <h4><span class="header-section-number">5.1.4.6</span> <em>resilience_weights.csv</em></h4> <p><code>resilience_weights.csv</code> describes the weight of various resilience layers, which in Halpern <em>et al</em>. 2012 (<em>Nature</em>) were determined based on scientific literature and expert opinion.</p> </div> </div> <div id="spatial-folder" class="section level3"> <h3><span class="header-section-number">5.1.5</span> spatial folder</h3> <p>The spatial folder contains a single file, <code>regions_gcs.js</code>. This is a spatial file in the JSON format; it spatially identifies the study area and regions for the assessment. If you plan to modify your study area or regions, you will need to upload a <em>.js</em> file with appropriate offshore boundaries. You will need a GIS analyst to do this: see <a href="http://ohi-science.org/pages/create_regions.html">http://ohi-science.org/pages/create_regions.html</a> for some instruction.</p> </div> <div id="launch_app_code.r" class="section level3"> <h3><span class="header-section-number">5.1.6</span> launch_app_code.R</h3> <p>The Toolbox can be launched on your computer so that you can visualize any edits you make while you are offline. To do this, you will run the code in <code>launch_app_code.R</code>. Make sure you are in the <code>subcountry2014</code> directory at that time: <code>setwd(~/github/ecu/subcountry2014)</code></p> </div> <div id="layers-empty_swapping-global-mean.csv" class="section level3"> <h3><span class="header-section-number">5.1.7</span> layers-empty_swapping-global-mean.csv</h3> <p>This file contains a list of data layers that were used in the global assessment while not for your country. Without these data for your country, global averages are included in your <code>subcountry2014</code> scenario folder so the Toolbox can calculate scores until you replace these data with appropriate data for your study area. This file is not used anywhere by the Toolbox but is a registry of data layers that should prioritized to be replaced with your own local data layers.</p> </div> <div id="calculate_scores.r" class="section level3"> <h3><span class="header-section-number">5.1.8</span> <em>calculate_scores.r</em></h3> <p><code>calculate_scores.r</code> is a script that tells the Toolbox to calculate scores using the <em>.csv</em> files in the <code>layers</code> folder that are registered in <code>layers.csv</code> and the configurations identified in <code>config.r</code>. Scores will be saved in <code>scores.csv</code>.</p> </div> <div id="scores.csv" class="section level3"> <h3><span class="header-section-number">5.1.9</span> scores.csv</h3> <p><code>scores.csv</code> contains the calculated scores for the assessment. Currently, these scores were calculated using data for your country from the global 2014 assessment. Scores are reported for each dimension (future, pressures, resilience, score, status, trend) for each region in the study area (with region identifier), and are presented in ‘long’ format. Scores can be viewed through the WebApp using the ‘Output Score’ pulldown menu on the ‘App’ page.</p> </div> <div id="relaunching-the-toolbox" class="section level3"> <h3><span class="header-section-number">5.1.10</span> Relaunching the Toolbox</h3> <p>After the initial Toolbox setup, further launches of the Toolbox can be done without the software program R. Instead, PC users can double-click the <code>launchApp.bat</code> file and Mac users can double-click the <code>launchApp.command</code> file.</p> </div> </div> <div id="formatting-data-for-the-toolbox" class="section level2"> <h2><span class="header-section-number">5.2</span> Formatting Data for the Toolbox</h2> <div id="introduction-1" class="section level3"> <h3><span class="header-section-number">5.2.1</span> Introduction</h3> <p>The OHI Toolbox is designed to work in the programming language <strong>R</strong> using input data stored in text-based <em>.csv</em> files (<em>csv</em> stands for ‘comma-separated value’; these files can be opened as a spreadsheet using Microsoft Excel or similar programs). Each data layer (data input) has its own <em>.csv</em> file, which is combined with others within the Toolbox for the model calculations. These data layers are used for calculating goal scores, meaning that they are inputs for status, trend, pressures, and resilience. The global analysis included over 100 data layer files, and there will probably be as many in your own assessments. This section describes and provides examples of how to format the data layers for the Toolbox.</p> <p>OHI goal scores are calculated at the scale of the reporting unit, which is called a ‘<strong>region</strong>’ and then combined using an area-weighted average to produce the score for the overall area assessed, called a ‘<strong>study area</strong>’. The OHI Toolbox expects each data file to be in a specific format, with data available for every region within the study area, with data layers organized in ‘long’ format (as few columns as possible), and with a unique region identifier (<em>rgn_id</em>) associated with a single <em>score</em> or <em>value</em>. In order to calculate trend, input data must be available as a time series for at least 5 recent years (and the longer the time series the better, as this can be used in setting temporal reference points).</p> <p>The example below shows information for a study area with 4 regions. There are two different (and separate) data layer files: tourism count (<code>tr_total.csv</code>) and natural products harvested, in metric tonnes (<code>np_harvest_tonnes.csv</code>). Each file has data for four regions (1-4) in different years, and the second has an additional ‘categories’ column for the different types of natural products that were harvested. In this example, the two data layers are appropriate for status calculations with the Toolbox because:</p> <ol style="list-style-type: decimal"> <li>At least five years of data are available,</li> <li>There are no data gaps</li> <li>Data are presented in ‘long’ or ‘narrow’ format (not ‘wide’ format – see “<strong>Long Formatting</strong>”&quot; section).</li> </ol> <p><strong>Example of data in the appropriate format:</strong></p> <div class="figure"> <img src="fig/formatting_data_example.png" /> </div> </div> <div id="gapfilling" class="section level3"> <h3><span class="header-section-number">5.2.2</span> Gapfilling</h3> <p>It is important that data prepared for the Toolbox have no missing values or ‘gaps’. Data gaps can occur in two main ways: 1) <strong>temporal gaps</strong>: when several years in a time series in a single region have missing data, and 2) <strong>spatial gaps</strong>: when all years for a region have missing data (and therefore the whole region is ‘missing’ for that data layer).</p> <p>How these gaps are filled will depend on the data and regions themselves, and requires thoughtful, logical decisions to most reasonably fill gaps. Each data layer can be gapfilled using different approaches. Some data layers will require both temporal and spatial gapfilling. The examples below highlight some example of temporal and spatial gapfilling.</p> <p>All decisions of gapfilling should be documented to ensure transparency and reproducibility. The examples below are in Excel, but programming these changes in software like R is preferred because it promotes easy transparency and reproducibility.</p> <div id="temporal-gapfilling" class="section level4"> <h4><span class="header-section-number">5.2.2.1</span> Temporal gapfilling</h4> <p>Temporal gaps occur when a region is missing data for some years. The Toolbox requires data for each year for every region. It is important to make an informed decision about how to temporally gapfill data.</p> <div class="figure"> <img src="fig/temporal_gaps.png" /> </div> <p>Often, regression models are the best way to estimate data and fill temporal gaps. Here we give an example that assumes a linear relationship between the year and value variables within a region. If data do not fit a linear framework, other models may be fit to help with gapfilling. Here we give an example assuming linearity.</p> <p>Using a linear model can be done in most programming languages using specific functions, but here we show this step-by-step using functions in Excel for Region 1.</p> <p><strong>Temporal gapfilling example (assumes linearity: able to be represented by a straight line on a graph)):</strong></p> <p>There are four steps to temporally gapfill with a linear model, illustrated in the figures with four columns.</p> <p><strong>1. Calculate the slope for each region</strong></p> <p>The first step is to calculate the slope of the line that is fitted through the available data points. This can be done in Excel using the <strong>SLOPE(known_y’s,known_x’s)</strong> function as highlighted in the figure below. In this case, the x-axis is <em>years</em> (2005, 2006, etc…), the y-axis is <em>count</em>, and the Excel function automatically plots and fits a line through the known values (177.14 in 2005, 212.99 in 2008, and 228.81 in 2009), and subsequently calculates the slope (12.69).</p> <div class="figure"> <img src="fig/filling_temporal_gaps_slope.png" /> </div> <p><strong>2. Calculate the y-intercept for each region</strong></p> <p>The next step is to calculate the intercept of the line that is fitted through the available data points. This can be done in Excel similarly as for the slope calculation, using the the <strong>INTERCEPT(known_y’s,known_x’s)</strong> function that calculates the y-intercept (-25273.89) of the fitted line.</p> <div class="figure"> <img src="fig/filling_temporal_gaps_intercept.png" /> </div> <p><strong>3. Calculate y for all years</strong></p> <p>The slope and y-intercept that were calculated in steps 1 and 2 can then be used along with the year (independent variable) to calculate the unknown ‘y-values’. To do so, simply replace the known three values into the <strong>y = mx + b</strong> equation (m=slope, x=year, b=intercept), to calculate the unknown ‘count’ for a given year (189.39 in 2006, and 202.08 in 2007).</p> <div class="figure"> <img src="fig/filling_temporal_gaps_value.png" /> </div> <p><strong>4. Replace modeled values into original data where gaps had occurred</strong></p> <p>Substitute these modeled values that were previously gaps in the timeseriew. <em>The data layer is now ready for the Toolbox, gapfilled and in the appropriate format.</em></p> </div> <div id="spatial-gapfilling" class="section level4"> <h4><span class="header-section-number">5.2.2.2</span> Spatial gapfilling</h4> <p>Spatial gaps are when no data are available for a particular region. The Toolbox requires data for each region. It is important to make an informed decision about how to spatially gapfilling data.</p> <div class="figure"> <img src="fig/gapfilling_spatial.png" /> </div> <p>To fill gaps spatially, you must assume that one region is like another, and data from another region is adequate to be substituted in place of the missing data. This will depend on the type of data and the properties of the regions requiring gapfilling. For example, if a region is missing data but has similar properties to a different region that does have data, the missing data could be ‘borrowed’ from the region with information. Each data layer can be gapfilled using a different approach when necessary.</p> <p><strong>Characteristics of regions requiring gapfilling that can help determine which type of spatial gapfilling to use:</strong></p> <ol style="list-style-type: decimal"> <li><p>proximity: can it be assumed that nearby regions have similar properties?</p></li> <li><p>study area: are data reported for the study area, and can those data be used for subcountry regions?</p></li> <li><p>demographic information: can it be assumed a region with a similar population size has similar data?</p></li> </ol> <p><strong>Spatial gapfilling example:</strong></p> <p>For a certain data layer, suppose the second region (<em>rgn_id 2</em>) has no data reported, as illustrated in the figure above. How to spatially gapfill <em>rgn_id 2</em> requires thinking about the properties and characteristics of the region and the data, in this case, tourist count.</p> <p>Here are properties that can be important for decision making:</p> <p><em>rgn_id 2</em>:</p> <ul> <li>is located between <em>rgn_id 1</em> and 3</li> <li>is larger than <em>rgn_id 1</em></li> <li>has similar population size/demographics to <em>rgn_id 3</em></li> <li>has not been growing as quickly as <em>rgn_id 4</em></li> </ul> <p>There is no absolute answer of how to best gapfill <em>rgn_id 2</em>. Here are a few reasonable possibilities:</p> <p>Assign <em>rgn_id 2</em> values from:</p> <ul> <li><em>rgn_id 1</em> because it is in close proximity to <em>rgn_id 2</em></li> <li><em>rgn_id 3</em> because it is in close proximity to <em>rgn_id 2</em> and has similar population size/demographics</li> <li><em>rgn_id 1</em> and 3 averaged since they are in close proximity to <em>rgn_id 2</em></li> </ul> <p>Suppose the decision was made to gapfill <em>rgn_id 2</em> using the mean of <em>rgn_id 1</em> and <em>3</em> since this would use a combination of both of those regions. Again, other possibilities could be equally correct. But some form of spatial gapfilling is required so a decision must be made. The image below illustrates this in Excel.</p> <div class="figure"> <img src="fig/gapfilling_spatial_example.png" /> </div> <p>The data layer is now ready for the Toolbox, gapfilled and in the appropriate format.</p> </div> </div> <div id="long-formatting" class="section level3"> <h3><span class="header-section-number">5.2.3</span> Long formatting</h3> <p>The Toolbox expects data to be in ‘long’ or ‘narrow’ format. Below are examples of correct and incorrect formatting, and tips on how to transform data into the appropriate format.</p> <p><strong>Example of data in an incorrect format:</strong></p> <div class="figure"> <img src="fig/formatting_long_example.png" /> </div> <p>With ‘wide’ format, data layers are more difficult to combine with others and more difficult to read and to analyze.</p> <p><strong>Transforming data into ‘narrow’ format:</strong></p> <p>Data are easily transformed in a programming language such as R.</p> <p>In R, the <code>reshape</code> package has the <code>melt</code> command, which will melt the data from a wide format into a narrow format. It also can <code>cast</code> the data back into a wide format if desired. R documentation:</p> <ul> <li><a href="http://cran.r-project.org/web/packages/reshape2/reshape2.pdf">http://cran.r-project.org/web/packages/reshape2/reshape2.pdf</a></li> <li><a href="http://www.slideshare.net/jeffreybreen/reshaping-data-in-r">http://www.slideshare.net/jeffreybreen/reshaping-data-in-r</a></li> <li><a href="http://tgmstat.wordpress.com/2013/10/31/reshape-and-aggregate-data-with-the-r-package-reshape2/">http://tgmstat.wordpress.com/2013/10/31/reshape-and-aggregate-data-with-the-r-package-reshape2/</a></li> </ul> <p>Example code using the <em>melt</em> command in the <em>reshape2</em> library. Assume the data above is in a variable called <em>data_wide</em>:</p> <div class="figure"> <img src="fig/melt_code.png" /> </div> <p>This will melt everything except any identified columns (<em>Region</em> and <em>DataLayer</em>), and put all other column headers into a new column named <em>Year</em>. Data values will then be found in a new column called <em>value</em>.</p> <p>The final step is optional: ordering the data will make it easier for humans to read (R and the Toolbox can read these data without this final step):</p> <p><strong>Example of data in the appropriate (long) format:</strong></p> <div class="figure"> <img src="fig/formatting_long_example_2.png" /> </div> </div> </div> </div> <div id="installing-the-toolbox" class="section level1"> <h1><span class="header-section-number">6</span> Installing the Toolbox</h1> <blockquote> <p><strong>Section Summary:</strong></p> </blockquote> <blockquote> <p>In this section, you will learn how to successfully download, install, and use the software required to conduct an assessment. You will create a GitHub account and install R, RStudio, git, and the Github desktop app. OHI assessments are conducted through open-source platforms that allow you to make real-time changes with collaborators, and to track progress so that errors can be corrected and new insights can be shared in the future.</p> </blockquote> <div id="overview" class="section level2"> <h2><span class="header-section-number">6.1</span> Overview</h2> <p>The <strong>OHI Toolbox</strong> is essentially several folders containing all the files required for an OHI assessment. These folders are stored online on www.github.com, and are called <strong>GitHub repositories</strong>. At this point, you should already be familiar with your assessment’s repository, and all of the files it contains (if not, read the section, <strong>“File System for Assessment Repositories”</strong>).</p> <p>Conducting an OHI assessment using GitHub enables collaboration and transparency, and will provide access to the latest developments in the Toolbox software, allowing the OHI team to provide support remotely if necessary.</p> <p>This section explains the GitHub workflow and how to access and setup required software. Then, it explains how to after modifying files on your own computer, you can use GitHub to upload any modifications you make so that you can work collaboratively with your team.</p> <p><strong>Required software:</strong></p> <ol style="list-style-type: decimal"> <li><strong>Github App</strong></li> <li>** <em>git</em> **</li> <li><strong>R</strong></li> <li><strong>RStudio</strong></li> </ol> <blockquote> <div class="figure"> <img src="fig/overview_requirements_1.png" /> </div> </blockquote> </div> <div id="github" class="section level2"> <h2><span class="header-section-number">6.2</span> GitHub</h2> <p><strong>GitHub</strong> is an open-source development platform that enables easy collaboration and versioning, which means that all saved versions are archived and attributed to each user. It is possible to revert back to any previous version, which is incredibly useful to not only to document what work has been done, but how it differs from work done in the past, and who is responsible for the changes.</p> <p><strong>GitHub Vocabulary:</strong></p> <ul> <li><strong>clone</strong> ~ download to your computer from online version with synching capabilities enabled</li> <li><strong>commit</strong> ~ message associated with your changes at a point in time</li> <li><strong>pull</strong> ~ sync a repo on your computer with online version</li> <li><strong>push</strong> ~ sync the online repo with your version, only possible after committing</li> </ul> <p><strong>sync = pull + commit + push</strong></p> <div id="learning-github" class="section level3"> <h3><span class="header-section-number">6.2.1</span> Learning GitHub</h3> <p>The following section describes how to use GitHub to access and sync your assessment repository. There are also many great resources available online with more in-depth information:</p> <ul> <li><a href="http://r-pkgs.had.co.nz/git.html"><strong>Git and GitHub</strong></a> by Hadley Wickham: <a href="http://r-pkgs.had.co.nz/git.html">http://r-pkgs.had.co.nz/git.html</a></li> <li><a href="http://www.rstudio.com/resources/webinars/"><strong>Collaboration and Time Travel: Version Control with Git, GitHub and RStudio</strong></a> video tutorial by Hadley Wickham: www.rstudio.com/resources/webinars</li> <li><a href="https://help.github.com/articles/good-resources-for-learning-git-and-github/"><strong>Good Resources for Learning Git and GitHub</strong></a> by GitHub: <a href="https://help.github.com/articles/good-resources-for-learning-git-and-github/">https://help.github.com/articles/good-resources-for-learning-git-and-github/</a></li> </ul> </div> </div> <div id="accessing-github-repositories" class="section level2"> <h2><span class="header-section-number">6.3</span> Accessing GitHub Repositories</h2> <p>GitHub has an online interface and a desktop application for the version-control software called ** <em>git</em>. ** In addition to cloning your GitHub repository to your computer, you will need to download and install <em>git</em> software and the GitHub App (application), both of which are freely available.</p> <div id="create-a-github-account" class="section level3"> <h3><span class="header-section-number">6.3.1</span> Create a GitHub account</h3> <p>Create a GitHub account at <a href="http://github.com">http://github.com</a>. Choose a username and password. You will use this username and password when you install and set up <em>git</em> on your computer.</p> </div> <div id="install-git-software" class="section level3"> <h3><span class="header-section-number">6.3.2</span> Install <em>git</em> software</h3> <p>How you install <em>git</em> will depend on whether you are working on a Windows or Mac computer. It will also depend on your operating system version. If you have problems following these instructions, it is likely because your operating system requires a previous version of <em>git</em>. Previous versions are available from www.wandisco.com/git/download (you will need to provide your email address).</p> <p><strong>For Windows:</strong></p> <ul> <li><p>Download <em>git</em> at <a href="http://git-scm.com/downloads">http://git-scm.com/downloads</a> and follow the install instructions.</p></li> <li><p>When running the Windows installer, use all default options except “Adjusting your PATH environment”: instead, select “<em><strong>Run Git from the Windows Command Prompt</strong></em>”. This will allow later compatibility with RStudio.</p></li> </ul> <blockquote> <div class="figure"> <img src="fig/git_install_win_option.png" /> </div> </blockquote> <p><strong>For Mac:</strong></p> <ul> <li>Download <em>git</em> at <a href="http://git-scm.com/downloads">http://git-scm.com/downloads</a> and follow the install instructions.</li> <li>Apple’s Xcode has a command line tools option during install which can override the preferred <em>git</em> command line tools. To ensure you are using the latest preferred version, you will need to launch Terminal and type a few lines of code:</li> <li>Access Terminal from the Applications folder: <strong>Applications &gt; Utilities &gt; Terminal</strong>. When you launch Terminal a window will appear with your computer’s name followed by a <code>$</code>. When you type, your commands will appear after the <code>$</code>.</li> </ul> <blockquote> <p>Download <em>git</em> at <a href="http://git-scm.com/downloads">http://git-scm.com/downloads</a> and follow the install instructions.</p> </blockquote> <blockquote> <p>Apple’s <a href="https://developer.apple.com/xcode/">Xcode</a> has a command line tools option during install which can override the preferred Git command line tools. To ensure you are using the latest preferred version, do the following things in <em>RStudio</em> and in <em>Terminal</em>:</p> </blockquote> <p>Add access your ‘bash profile’ by typing:</p> <pre><code>pico ~/.bash_profile</code></pre> <p>You are now able to edit your ‘bash profile’. Type:</p> <pre><code>export PATH=/usr/local/git/bin:$PATH</code></pre> <p>Exit pico by typing:</p> <blockquote> <p>control-X<br />y<br />return/enter</p> </blockquote> <p>Exit Terminal by typing:</p> <pre><code>exit</code></pre> <p>Finally, quit Terminal.</p> <div class="figure"> <img src="fig/terminal_pico.png" /> </div> </div> <div id="set-up-your-git-identity" class="section level3"> <h3><span class="header-section-number">6.3.3</span> Set up your Git Identity</h3> <p>After downloading and installing <em>git</em>, you will need to set up your <strong>Git Identity</strong>, which identifies you with your work. <em>Note</em>: if you have any problems with the following instructions, it is likely because of incompatibility between the version of your operating system and the version of git you downloaded in the previous section. In this case, find and download a compatible version at <a href="www.wandisco.com/git/download">www.wandisco.com/git/download</a> and then follow the instructions below.</p> <p>You will set up your GitHub identity using the command line specific to Windows or Mac:</p> <ul> <li><strong>Windows</strong>: Start &gt; Run &gt; cmd</li> <li><strong>Mac</strong>: Applications &gt; Utilities &gt; Terminal</li> </ul> <p>In the window, you will see a cursor where you are able to type. Type the following and press return (or enter) at each step. Make sure all spaces and symbols are identical to the example below, including all spaces ( ) and dashes (-).</p> <p>Substitute your GitHub username instead of jdoe:</p> <pre><code>git config --global user.name jdoe</code></pre> <p>and then: substitute the email address you used to create your GitHub account:</p> <pre><code>git config --global user.email johndoe@example.com</code></pre> <p>You can check settings with the following:</p> <pre><code>git config --list</code></pre> <p>Quit the Terminal after typing:</p> <pre><code>exit</code></pre> </div> <div id="install-the-github-application" class="section level3"> <h3><span class="header-section-number">6.3.4</span> Install the GitHub application</h3> <p>There are several options to clone your repository to your local machine. When getting started, we recommend using the GitHub application. This is freely available for download. Follow the instructions for downloading and installing from the following:</p> <ul> <li><p><strong>Windows</strong>: <a href="https://windows.github.com/">https://windows.github.com/</a>.</p></li> <li><p><strong>Mac</strong>: <a href="https://mac.github.com/">https://mac.github.com/</a>.</p></li> </ul> </div> <div id="create-a-folder-called-github-on-your-computer" class="section level3"> <h3><span class="header-section-number">6.3.5</span> Create a folder called <em>github</em> on your computer</h3> <p>Because you will use GitHub to collaborate with your team or request support from the OHI team, it is important you save files in places where the file path that is universal and not specific to your computer. When team members save files in different places, this will create a lot of problems when collaborating, particularly between Macs and Windows machines.</p> <p><strong>Please create a folder called github in your root directory</strong>. The file path for this folder will be:</p> <ul> <li><strong>Windows</strong>: <code>Users\[User]\Documents\github\</code></li> <li><strong>Mac</strong>: <code>Users/[User]/github/</code></li> </ul> <p>This folder can be identified by any computer as <code>~/github/</code>.</p> </div> <div id="clone-your-repository-to-your-computer" class="section level3"> <h3><span class="header-section-number">6.3.6</span> Clone your repository to your computer</h3> <p>Clone a repository by clicking the ‘Clone in Desktop’ button on your online repository’s homepage (<a href="https://github.com/OHI-Science/[assessment]">https://github.com/OHI-Science/[assessment]</a>):</p> <blockquote> <div class="figure"> <img src="https://docs.google.com/drawings/d/1sGEwp5wX0q3BJCy_J51FjS3km7fh7sx3k3jD9CBguBg/pub?w=384&amp;h=288" /> </div> </blockquote> <p>You will be asked where to save this repository: save it into the <code>github</code> folder you created. The file path for your assessment will therefore be:</p> <ul> <li>Windows: C: <code>\Users\[User]\Documents\github\[assessment] (example: C:\Users\johndoe\Documents\github\ecu)</code></li> <li>on a Mac: <code>/Users/[User]/github/[assessment] (example: /Users/johndoe/github/ecu)</code></li> </ul> <p>The assessment can be identified by any computer as <code>~/github/[assessment]</code>.</p> <p>The entire folder will now be saved on your computer.</p> </div> <div id="update-permissions" class="section level3"> <h3><span class="header-section-number">6.3.7</span> Update permissions</h3> <p>You need to **email your username to <a href="mailto:ohi-science@nceas.ucsb.edu*">ohi-science@nceas.ucsb.edu*</a>* for permission to upload modifications to your GitHub repository (you only need to do this once). Only team members who will be modifying files will need to do this; all other members can view online and download the repository without these permissions.</p> </div> <div id="work-locally" class="section level3"> <h3><span class="header-section-number">6.3.8</span> Work locally</h3> <p>You will then work locally on your own computer, modifying the files in the repository to reflect the desired modifications your team has identified for your assessment. Multiple users can work on the same repository at the same time, so there are steps involved to ‘check in’ your modifications so they can merge with the work of others without problems. GitHub has specific words for each of these steps. You have already successfully <strong>cloned</strong> an online repository to your local machine. After making modifications, you will <strong>commit</strong> these changes with a description before being able to sync back to the online repository. <strong>Synching</strong> involves both <strong>pulling</strong> any updates from the online repository before <strong>pushing</strong> committed changes back to the server.</p> <p>The example below illustrates GitHub’s collaborative workflow with the <code>ohi-israel</code> repo owned by <code>OHI-Science</code>:</p> <blockquote> <blockquote> <blockquote> <div class="figure"> <img src="fig/clone_push_pull.png" /> </div> </blockquote> </blockquote> </blockquote> <p><strong>All changes within your local repository will be tracked by GitHub regardless of the software you use to make the changes</strong>. This means that you can delete or paste files in the Mac Finder or Windows Explorer and edit <em>.csv</em> files in Excel or a text editor, and still sync these changes with the online repository. We recommend doing as much data manipulation as possible in a programming language like R, to maximize transparency and reproducibility. When modifying R scripts such as <code>functions.r</code>, you will need to work in R.</p> <p>We recommend syncing with either the GitHub App or with RStudio. Both methods require you to commit your changes, before pulling any updates and pushing your modifications. The GitHub App combines the pulling and pushing into one step, called syncing. The following sections show you how to synchronize the repository on your computer with the repository online.</p> </div> <div id="syncing" class="section level3"> <h3><span class="header-section-number">6.3.9</span> Syncing</h3> <p>When you work on your computer, any edits you make to any files in your repo, using any program, will be tracked by <em>git</em>. You can use any of the above to commit and sync your changes back to GitHub. There are many options you can use to sync your edits on a repo with the online version.</p> <ul> <li><strong>GitHub App</strong> <a href="https://mac.github.com/">for Mac</a> and <a href="https://windows.github.com/">for Windows</a></li> <li><a href="www.rstudio.com"><strong>RStudio</strong></a></li> <li><strong>Command line</strong></li> </ul> <p>If you are just modifying data <em>.csv</em> files, you probably only need to use the GitHub App. RStudio is convenient if you are working with <em>.R</em> files. Also, the command line can be used by those interested, and there are resources available online.</p> </div> <div id="using-the-github-app-to-synchronize-your-repository" class="section level3"> <h3><span class="header-section-number">6.3.10</span> Using the GitHub App to synchronize your repository</h3> <p>The GitHub App will track your modifications and can be used to commit and sync any changes made locally to your repository. Once you are done working on the pertinent files and wish to commit and sync the changes to the online server on the Github server, open the GitHub App. The following example is with [the ohi-china repository]:</p> <ol style="list-style-type: decimal"> <li>Make sure you select the correct repository, located on the left column of the GitHub App window.</li> <li>Select the different files to which changes have been made (2a), and preview those changes on the right column of the GitHub App window (2b).</li> <li>Once all the changes have been reviewed, write a summary/description in the respective message bars in the GitHub App window, then click on commit and sync (Note: If a <code>Commit</code> button appears instead of the <code>Commit &amp; Sync</code> button, you can either click <code>Commit</code> and then click the <code>Sync</code> button located on the top-right corner of the GitHub App window, or you can alternatively click the <code>+</code> button next to the <code>Commit</code> button, and then click the the <code>Commit &amp; Sync</code> button that appears).</li> </ol> <blockquote> <div class="figure"> <img src="fig/github_app_notes.png" /> </div> </blockquote> <p>Go online and check that your changes are now visible on GitHub online.</p> </div> <div id="working-with-r-and-rstudio" class="section level3"> <h3><span class="header-section-number">6.3.11</span> Working with R and RStudio</h3> <p><strong>RStudio</strong> is a program that can be used to synchronize any modifications you make to files in your assessment’s repository, and if you are working in R, it is convenient since you do not need to open the GitHub App. If you do not already have this installed, install the latest version of R and RStudio (and if you do have these installed, check for updates: there are frequent updates to the R software, and the current version is identified on the website). Both R and RStudio are freely available to download.</p> <p><strong>R</strong>: Download the current version of R at <a href="http://cran.r-project.org/">http://cran.r-project.org/</a> and follow the instructions to install it on your computer. If updating, compare the available version on their website with what you already have on your computer by typing sessionInfo() into your R console.</p> <p><strong>RStudio</strong>: Download the current version of RStudio software at www.rstudio.com. RStudio is not updated as often as R, but it is good to check for updates regularly.</p> <p>If you are working on a Mac, you will need to tell RStudio to use the proper version of Git by doing the updating the preferences for ‘Git executable’:</p> <p><strong>RStudio &gt; Preferences… &gt; Git/SVN &gt; Git executable: /usr/local/git/bin/git</strong></p> </div> <div id="using-rstudio-to-synchronize-your-repository" class="section level3"> <h3><span class="header-section-number">6.3.12</span> Using RStudio to synchronize your repository</h3> <p>RStudio can sync files with GitHub directly, and can be used instead of the GitHub App. Like the GitHub App, it will capture the changes made to any files within the repository, no matter which software was used to modify them. The advantage for using RStudio to sync instead of the GitHub App is if you are working with R scripts already. In RStudio, you sync by first pulling and then pushing (separately); in the GitHub App these two functions are done together.</p> <p>Launch your project in RStudio by double-clicking the <code>.Rproj</code> file.</p> <blockquote> <div class="figure"> <img src="https://docs.google.com/drawings/d/11F2lbB1S56ccZK5CbCxga4SEiRoE6E0-3QtZO99p37A/pub?w=384&amp;h=288" /> </div> </blockquote> <p>When you modify or add a file, the file will appear in the ‘Git’ window. In the example below, the file <code>test.R</code> was created.</p> <ol style="list-style-type: decimal"> <li>Clicking the ‘Staged’ box and the ‘Commit’ button opens a new window where you can review changes.</li> <li>Type a commit message that is informative to the changes you’ve made.</li> </ol> <ul> <li>Note 1: there will often be multiple files ‘staged’ at the same time, and so the same commit message will be associated with all of the updated files. It is best to commit changes often with informative commit messages.</li> <li>Note 2: clicking on a staged file will identify additions and deletions within that file for your review</li> </ul> <ol start="3" style="list-style-type: decimal"> <li>Click ‘Commit’ to commit the changes and the commit message</li> <li>Pull any changes that have been made to the online repository. This is important to ensure there are no conflicts with updating the online repository.</li> <li>Push your committed changes to the online repository. Your changes are now visible online.</li> </ol> <blockquote> <div class="figure"> <img src="fig/commit_sk.png" /> </div> </blockquote> </div> <div id="install-the-latest-version-of-r-and-rstudio" class="section level3"> <h3><span class="header-section-number">6.3.13</span> Install the latest version of R and RStudio</h3> <p>Make sure you have the most current version of R and RStudio. Download <strong>R</strong> at <a href="http://cran.r-project.org/">http://cran.r-project.org/</a> and install on your computer. If you already have R installed, check the website for updates. There are frequent updates to the R software, and the current version is identified on the website. Compare what is available from their website with what you already have on your computer by typing <code>sessionInfo()</code> into your R console. (This will also identify packages you have installed).</p> <p>While not required, we highly recommend working with <strong>RStudio</strong>, which is an interface that makes working with R much easier, and it also interfaces with GitHub so you are able to synchronize without using the GitHub App. RStudio does not get updated as often as R does, but it is good to check for updates regularly.</p> </div> </div> <div id="github-repository-architecture" class="section level2"> <h2><span class="header-section-number">6.4</span> GitHub repository architecture</h2> <p>GitHub stores all data files and scripts for your assessment in a repository (a folder). Different copies or complements to these folders, called <em>branches</em> can also exist, which aid with versioning and drafting. Your repository has four branches, two of which are displayed on your website (e.g., ohi-science.org/ecu):</p> <ol style="list-style-type: decimal"> <li><p><strong>draft</strong> branch is for editing. This is the default branch and the main working area where existing scenario data files can be edited and new scenarios added.</p></li> <li><p><strong>published</strong> branch is a vetted copy of the draft branch, not for direct editing. This branch is only updated by automatic calculation of scores if:</p> <ol style="list-style-type: decimal"> <li><p>no errors occur during the calculation of scores in the draft branch, and</p></li> <li><p>publishing is turned on. During the draft editing and testing phases of development, it is typically desirable to turn this off.</p></li> </ol></li> <li><p><strong>gh-pages</strong> branch is this website. The results sections of the site (regions, layers, goals, scores per branch/scenario) are overwritten into this repository after automatic calculation of scores. The rest of the site can be manually altered.</p></li> <li><p><strong>app</strong> branch is the interactive layer and map viewer application. The user interface and server-side processing use the <a href="http://shiny.rstudio.com/">Shiny</a> R package and are deployed online via <a href="https://www.shinyapps.io/">ShinyApps.io</a> to your website. Once deployed, the WebApp pulls updates from the data branches (draft and published) every time a new connection is initiated (i.e., browser refreshes).</p></li> </ol> </div> </div> <div id="using-the-toolbox" class="section level1"> <h1><span class="header-section-number">7</span> Using the Toolbox</h1> <blockquote> <p><strong>Section Summary:</strong></p> </blockquote> <blockquote> <p>In this section, you will learn about the most common modifications made to repositories. You will be given examples to follow to help with your own assessment. The most common modifications are changing the pressures and resilience matrices, changing or creating data layers, and changing or removing goals models.</p> </blockquote> <blockquote> <p>TIP: You should now have your assessment repository opened and be familiar with the files in the folder.</p> </blockquote> <p>As your team finalizes which data should be included in the assessment and begins developing goal models, you can incorporate this information into your repository. Data layer files can be created and updated with any software that handles <em>.csv</em> files, but goal models must be updated in R. With any modifications you sync to the online repository, the Toolbox will automatically recalculate goal scores. Calculations can also be done locally and offline by running <code>subcountry2014/calculate_scores.R</code>.</p> <p>This section gives instruction and examples for the most common modifications you will make to your repository:</p> <ul> <li><strong>modifying pressures and resilience matrices</strong></li> <li><strong>modifying and creating data layers for status, trend, pressures and resilience</strong></li> <li><strong>modifying goal models</strong></li> <li><strong>removing goals</strong></li> </ul> <p>The files you will modify are:</p> <div class="figure"> <img src="fig/modifying_scenario_tbx.png" /> </div> <div id="modifying-and-creating-data-layers" class="section level2"> <h2><span class="header-section-number">7.1</span> Modifying and creating data layers</h2> <p>Data layers are <em>.csv</em> files and are located in the <code>[assessment]/subcountry2014/layers</code> folder. Remember that all data layers provided in your repository are extracted from the global 2014 assessment.</p> <div class="figure"> <img src="fig/layers_directory.png" /> </div> <ul> <li>Layers with the suffix <code>_gl2014.csv</code> (<em>gl</em> for <em>global</em>) have been exactly copied from the global assessment and applied equally to each region, and therefore the values will be the same across all subcountry regions.</li> <li>Layers with the suffix <code>_sc2014.csv</code> (<em>sc</em> for <em>subcountry</em>) have been spatially-extracted from global data or adjusted with spatially-extracted data so that each region in your assessment has a unique value. For example, gross domestic product (GDP) used in the global assessment was reported at the national (most often country) level. Instead of being applied equally across all subcountry regions (which would incorrectly increase the nation’s GDP several times), national GDP was down-weighted by the proportion of coastal population in each region compared with the total coastal population.</li> </ul> <p>Both types of default data layers are of coarse-resolution and should be replaced with local, high-resolution data when possible. The priority should be to replace as much of the <code>_gl2014.csv</code> data as possible.</p> <p><strong>There are several steps to follow when working with data layers:</strong></p> <ol style="list-style-type: decimal"> <li>Modify or create data layer with proper formatting</li> <li>Save the layer in the <code>layers</code> folder</li> <li>Register the layer in <code>layers.csv</code></li> <li>Check (and update when appropriate) <code>pressures_matrix.csv</code> and <code>resilience_matrix.csv</code> (located in: <code>[assessment]/subcountry2014/conf</code>)</li> </ol> <div id="create-data-layers-with-proper-formatting" class="section level3"> <h3><span class="header-section-number">7.1.1</span> Create data layers with proper formatting</h3> <p>The OHI Toolbox expects each data layer to be in its own <em>.csv</em> file and to be in a specific format, with data available for every region within the study area, with data organized in ‘long’ format (as few columns as possible), and with a unique region identifier (<em>rgn_id</em>) associated with a single score or value. See the <strong>‘Formatting data for the Toolbox’</strong> section for more information.</p> </div> <div id="save-data-layers-in-the-layers-folder" class="section level3"> <h3><span class="header-section-number">7.1.2</span> Save data layers in the <em>layers</em> folder</h3> <p>When you modify existing or create new data layers, we recommend saving this as a new <em>.csv</em> file with a suffix identifying your assessment (example: <code>_israel2014.csv</code>). Modifying the layer name provides an easy way to track which data layers have been updated regionally, and which rely on global data. Then, the original layers (<code>_gl2014.csv</code> and <code>_sc2014.csv</code>) can be deleted.</p> <p>* Note: filenames should not have any spaces: use an underscore (‘_’) instead. This will reduce problems when R reads the files.</p> </div> <div id="register-data-layers-in-layers.csv" class="section level3"> <h3><span class="header-section-number">7.1.3</span> Register data layers in <code>layers.csv</code></h3> <p>When there are new filenames associated with each layer, they will need to be registered in <code>[assessment]/subcountry2014/layers.csv</code>. If a layer simply has a new filename, only the <em>filename</em> column needs to be updated:</p> <blockquote> <div class="figure"> <img src="fig/register_layers.png" /> </div> </blockquote> <p>However, if a new layer has been added (for example when a new goal model is developed), you will need to add a new row in the registry for the new data layer and fill in the first eight columns (columns A-H); other columns are generated later by the Toolbox as it confirms data formatting and content:</p> <ul> <li><strong>targets:</strong> Add the goal/dimension that the new data layer relates to. Goals are indicated with two-letter codes and sub-goals are indicated with three-letter codes, with pressures, resilience, and spatial layers indicated separately.</li> <li><strong>layer:</strong> Add an identifying name for the new data layer, which will be used in R scripts like <code>functions.R</code> and <em>.csv</em> files like <code>pressures_matrix.csv</code> and <code>resilience_matrix.csv</code>.</li> <li><strong>name:</strong> Add a longer title for the data layer–this will be displayed on your WebApp.</li> <li><strong>description:</strong> Add a longer description of the new data layer–this will be displayed on your WebApp.</li> <li><strong>fld_value:</strong> Add the appropriate units for the new data layer (which will be referenced in subsequent calculations).</li> <li><strong>units:</strong> Add a description about the <em>units</em> chosen in the <em>fld_value</em> column above.</li> <li><strong>filename:</strong> Add a filename for the new data layer that matches the name of the <em>.csv</em> file that was created previously in the <code>layers</code> folder.</li> <li><strong>fld_id_num:</strong> Area designation that applies to the newly created data layer, such as: <em>rgn_id</em> and <em>fao_id</em>.</li> </ul> </div> <div id="check-pressures-and-resilience-matrices" class="section level3"> <h3><span class="header-section-number">7.1.4</span> Check pressures and resilience matrices</h3> <p>If the new or modified layer is a pressures layer, check that <code>pressures_matrix.csv</code> and <code>resilience_matrix.csv</code> have been properly modified to register the new data layers.</p> </div> </div> <div id="modifying-pressures-matrices" class="section level2"> <h2><span class="header-section-number">7.2</span> Modifying pressures matrices</h2> <p>Your team will identify if any pressures layers should be added to the pressures matrices, and if so, which goals the pressure affects and what weight they should have. You can transfer this information in <code>pressures_matrix.csv</code> (located in the <code>[assessment]/subcountry2014/conf</code> folder). It is important to note that the matrix identifies the pressures relevant to each goal, and which weight will be applied in the calculation. Each pressure is a data layer, located in the <code>subcountry2014/layers</code> folder. This means that pressure layers need information for each region in the study area, and some layers will need to be updated with local data. In modifying pressures, you will need to consider whether data layers can be updated or added, and whether data layers map onto goals appropriately in the local context.</p> <p>Adding a new pressure to the pressures matrix requires the following steps:</p> <blockquote> <ol style="list-style-type: decimal"> <li>Create new pressure layer(s) and save in the <code>layers</code> folder</li> <li>Register pressure layer(s) in <code>layers.csv</code></li> <li>Register pressure layer(s) in <code>pressures_matrix.csv</code></li> </ol> <ul> <li><ol style="list-style-type: lower-alpha"> <li>Set the pressure category<br /></li> </ol></li> <li><ol start="2" style="list-style-type: lower-alpha"> <li>Identify the goals affected and set the weighting</li> </ol></li> <li><ol start="3" style="list-style-type: lower-alpha"> <li>Modify the resilience matrix (if necessary)</li> </ol></li> </ul> </blockquote> <p>The following is an example of adding two new pressures layers.</p> <div id="create-the-new-pressure-layers-and-save-in-the-layers-folder" class="section level3"> <h3><span class="header-section-number">7.2.1</span> Create the new pressure layers and save in the <code>layers</code> folder</h3> <p>If you create a new data layer, give it a short but descriptive name that also includes a prefix that signifies the pressure category (for example: <em>po_</em> for the pollution category). There are five physical categories and one social category:</p> <ul> <li><em>po_</em> = pollution</li> <li><em>hd_</em> = habitat destruction</li> <li><em>fp_</em> = fishing pressure</li> <li><em>sp_</em> = species pollution</li> <li><em>cc_</em> = climate change</li> <li><em>ss_</em> = social pressure</li> </ul> <p>So for example, <code>po_trash</code> is a pollution layer with trash on beaches, and <code>sp_alien</code> is species pollution due to alien (invasive) species.</p> <p>In the current example, the two new layers created to account for the input and output effects of desalination operations will be called <em>po_desal_in</em>, and <em>po_desal_out</em>.</p> <p>These new layers will have scores from 0 to 1, with values for each region in your study area, and will be saved in the <code>layers</code> folder.</p> </div> <div id="register-the-new-pressure-layers-in-layers.csv" class="section level3"> <h3><span class="header-section-number">7.2.2</span> Register the new pressure layers in <code>layers.csv</code></h3> <p>Add two new rows in <code>layers.csv</code>, and register the new pressure layers by filling out the first eight columns for <em>po_desal_in</em>, and <em>po_desal_out</em>.</p> <div class="figure"> <img src="fig/register_pressure.png" /> </div> </div> <div id="register-the-new-layers-in-pressure_matrix.csv" class="section level3"> <h3><span class="header-section-number">7.2.3</span> Register the new layers in <code>pressure_matrix.csv</code></h3> <p><code>pressures_matrix.csv</code> identifies the different types of ocean pressures (columns) with the goals that they affect (rows). Adding a new pressures layer to <code>pressures_matrix.csv</code> requires adding a new column with the pressure layer name.</p> <div id="set-the-pressure-category" class="section level4"> <h4><span class="header-section-number">7.2.3.1</span> Set the pressure category</h4> <p>This step requires transferring previous decisions made by your team into <code>pressures_matrix.csv</code>. Each pressure category is calculated separately before being combined with the others, so it is important to register the new pressure with the appropriate category prefix decided by your regional assessment team.</p> </div> <div id="identify-the-goals-affected-and-set-the-weighting" class="section level4"> <h4><span class="header-section-number">7.2.3.2</span> Identify the goals affected and set the weighting</h4> <p>This step also requires transferring prior decisions into <code>pressures_matrix.csv</code>. Mark which goals are affected by this new pressure, and then set the weighting. Pressures weighting by goal should be based on scientific literature and expert opinion (3 = highly influential pressure, 2 = moderately influential pressure, 1 = not very influential pressure). Remember that the rankings in the pressures matrix are separate from the actual data within the pressures data layers. The rankings ensure that within a particular goal (e.g. within a row of the pressures matrix), the stressors that more strongly influence the goal’s delivery have a larger contribution to that goal’s overall pressure score. Therefore, the rankings are assigned independently of the actual pressure scores, and only determine their importance within the calculations.</p> <div class="figure"> <img src="fig/register_new_pressures.png" /> </div> </div> </div> <div id="modify-the-resilience-matrix-if-necessary" class="section level3"> <h3><span class="header-section-number">7.2.4</span> Modify the resilience matrix (if necessary)</h3> <p>Resilience is included in OHI as the sum of the ecological factors and social initiatives (policies, laws, etc.) that can positively affect goal scores by reducing or eliminating pressures. The addition of new pressure layers may therefore warrant the addition of new resilience layers that were not previously relevant. Similarly, the removal of pressure layers may warrant the removal of now irrelevant resilience layers.</p> </div> </div> <div id="modifying-resilience-matrices" class="section level2"> <h2><span class="header-section-number">7.3</span> Modifying resilience matrices</h2> <p>Previous decisions made with your team will identify if any resilience layers should be added to the resilience matrices, and if so, which goals and/or pressures the resilience affects and what weight they should have. You can then transfer this information into <code>resilience_matrix.csv</code> (located in the <code>[assessment]/subcountry2014/conf</code> folder).</p> <p><code>resilience_matrix.csv</code> maps the different types of resilience (columns) with the goals that they affect (rows). New resilience layers may be added to <code>resilience_matrix.csv</code> based on finer-scale local information either in response to a new pressures layer, or as a new independent measure. Any added layer must be associated with a pressures layer that has a weight of 2 or 3 in the OHI framework so that resilience measures can mitigate pressures in each region.</p> <p>Each goal must have a resilience measure associated with it. In the figure below, the Toolbox would give an error because there are no resilience layers indicated for the natural products (NP) goal.</p> <div class="figure"> <img src="fig/resil_mtx_bad.png" /> </div> <div id="updating-resilience-matrix-with-local-habitat-information" class="section level3"> <h3><span class="header-section-number">7.3.1</span> Updating resilience matrix with local habitat information</h3> <p>In this example we will borrow from the experience of <code>ohi-israel</code>, where they assessed habitats in the Habitats (HAB) sub-goal that were not included in global assessments <code>ohi-global</code>. Therefore, the resilience matrix needed some revision.</p> <p>The habitats assessed for <code>ohi-israel</code> are:</p> <blockquote> <p><code>rocky_reef</code>, <code>sand_dunes</code>, <code>soft_bottom</code></p> </blockquote> <p>Updates are required for the following files:</p> <ul> <li><em>layers.csv</em></li> <li><em>resilience_matrix.csv</em></li> <li><em>resilience_weights.csv</em> (only if adding new resilience layers)</li> </ul> <div id="global-resilience-layers" class="section level4"> <h4><span class="header-section-number">7.3.1.1</span> Global resilience layers</h4> <p>The first step is to determine which resilience layers from the global assessment are relevant to your assessment, and whether others need to be added. The full list of layers included in the global resilience matrix are:</p> <blockquote> <p><code>alien_species</code>, <code>cites</code>, <code>fishing_v1</code>, <code>fishing_v1_eez</code>, <code>fishing_v2_eez</code>, <code>fishing_v3</code>, <code>fishing_v3_eez</code>, <code>habitat</code>, <code>habitat_combo</code>, <code>habitat_combo_eez</code>, <code>li_gci</code>, <code>li_sector_evenness</code>, <code>mariculture</code>, <code>msi_gov</code>, <code>species_diversity</code>, <code>species_diversity_3nm</code>, <code>tourism</code>, <code>water</code>, <code>wgi_all</code></p> </blockquote> <p>Some of these layers capture general aspects of governance that apply to the protection of any habitat. These are:</p> <blockquote> <p><code>alien_species</code>, <code>cites</code>, <code>msi_gov</code>, <code>water</code>, <code>wgi_all</code></p> </blockquote> <p>Two layers only apply to the livelihoods and economies goal (LE), so they should be excluded from HAB resilience:</p> <blockquote> <p><code>li_gci</code>, <code>li_sector_evenness</code></p> </blockquote> <p>The remaining layers apply to certain habitats, but not others. We focus on these to determine how to adapt the HAB resilience calculation for <code>ohi-israel</code>. They are:</p> <blockquote> <p><code>fishing_v1</code>, <code>fishing_v1_eez</code>, <code>fishing_v2_eez</code>, <code>fishing_v3</code>, <code>fishing_v3_eez</code>, <code>habitat</code>, <code>habitat_combo</code>, <code>habitat_combo_eez</code>, <code>mariculture</code>, <code>species_diversity</code>, <code>species_diversity_3nm</code>, <code>tourism</code></p> </blockquote> </div> <div id="determining-how-to-modify-these-resilience-layers" class="section level4"> <h4><span class="header-section-number">7.3.1.2</span> Determining how to modify these resilience layers</h4> <ul> <li>To determine whether <code>species_diversity_3nm</code> or <code>species_diversity</code> should be used: <ul> <li><code>sand_dunes</code> should use <code>species_diversity_3nm</code>,</li> <li><code>soft_bottom</code> should use <code>species_diversity</code>,</li> <li>is <code>rocky_reef</code> mainly coastal? if so it should use <code>tourism</code> and <code>species_diversity_3nm</code>.</li> </ul></li> <li>If the habitats can be affected by mariculture plants (e.g. eutrophication and decreased water quality can occur if mariculture plants are close by and have poor wastewater treatment), then the <code>mariculture</code> resilience score should be added. <ul> <li>are there any mariculture plants in Israel? If yes, on which habitats do they occur?</li> </ul></li> <li>The remaining layers are the <code>fishing_v...</code> and <code>habitat..</code> layers, which are composite indicators obtained from different combinations of the following indicators:</li> </ul> <blockquote> <p><code>Mora, Mora_s4, CBD_hab, MPA_coast, MPA_eez</code>,</p> </blockquote> <p>where:</p> <ul> <li><code>Mora</code> is a fisheries governance effectiveness indicator by Mora <em>et al</em> (2009)</li> <li><code>Mora_s4</code> is another indicator from Figure S4 of the supplementary material of the same publication that focuses on regulations of artisanal and recreational fisheries</li> <li><code>CBD_hab</code> is a score assigned based on answers to a questionnaire compiled by countries that committed to Rio’s Convention on Biological Diversity (CBD) to establish their progress towards habitat biodiversity protection</li> <li><code>MPA_coast</code> is an indicator obtained as the proportion of coastal (3nm) waters that are in a marine protected area (MPA), with the maximum being 30% of coastal waters</li> <li><code>MPA_eez</code> is an indicator obtained as the proportion of the whole EEZ that is in a marine protected area, with the maximum being 30% of the whole EEZ.</li> </ul> <p>This table shows which indicators are used by each combo layer:</p> <table> <thead> <tr class="header"> <th align="left">Layer</th> <th align="left">Mora</th> <th align="left">Mora_s4</th> <th align="left">CBD_hab</th> <th align="left">MPA_coast</th> <th align="left">MPA_eez</th> </tr> </thead> <tbody> <tr class="odd"> <td align="left">fishing_v1</td> <td align="left">Mora</td> <td align="left"></td> <td align="left">CBD_hab</td> <td align="left">MPA_coast</td> </tr> <tr class="even"> <td align="left">fishing_v1_eez</td> <td align="left">Mora</td> <td align="left"></td> <td align="left">CBD_hab</td> <td align="left"></td> <td align="left">MPA_eez</td> </tr> <tr class="odd"> <td align="left">fishing_v2_eez</td> <td align="left">Mora</td> <td align="left">Mora_s4</td> <td align="left">CBD_hab</td> <td align="left"></td> <td align="left">MPA_eez</td> </tr> <tr class="even"> <td align="left">fishing_v3</td> <td align="left"></td> <td align="left">Mora_s4</td> <td align="left">CBD_hab</td> <td align="left">MPA_coast</td> </tr> <tr class="odd"> <td align="left">fishing_v3_eez</td> <td align="left"></td> <td align="left">Mora_s4</td> <td align="left">CBD_hab</td> <td align="left"></td> <td align="left">MPA_eez</td> </tr> <tr class="even"> <td align="left">habitat</td> <td align="left"></td> <td align="left"></td> <td align="left">CBD_hab</td> <td align="left"></td> </tr> <tr class="odd"> <td align="left">habitat_combo</td> <td align="left"></td> <td align="left"></td> <td align="left">CBD_hab</td> <td align="left">MPA_coast</td> </tr> <tr class="even"> <td align="left">habitat_combo_eez</td> <td align="left"></td> <td align="left"></td> <td align="left">CBD_hab</td> <td align="left"></td> <td align="left">MPA_eez</td> </tr> </tbody> </table> <p><strong>Questions to consider</strong>:</p> <p>The first objective is to determine whether the general <code>fishing_v..</code> or <code>habitat_...</code> categories are relevant to each of the habitats. For example, fisheries regulations do not affect the conservation of sand dunes, so this habitat should not use any of the fisheries combos. If the general resilience categories are relevant to the habitat, the next step is to select one resilience layer within the <code>fishing_v…</code> and <code>habitat...</code> categories that most adequately captures the suite of combined resilience variables that affect the habitat. For example, the sand dune habitat is a strictly coastal habitat, so the most appropriate resilience layer would be the one that uses the MPA_coast (i.e., <code>habitat_combo</code>). The rocky reef and soft bottom, on the other hand, should definitely include fisheries and habitat regulations. So, you’ll need to choose a fisheries and a habitat combo for these two habitats. To do so, consider:</p> <ol style="list-style-type: decimal"> <li>For which habitats should you use both a fishery and a habitat combo, or just use a habitat combo?</li> </ol> <ul> <li>fisheries regulations do not affect the conservation of sand-dunes, so this habitat should not use any of the fisheries combos. Also, this is a strictly coastal habitat, so choose the habitat layer that uses the <code>MPA_coast</code> instead of the <code>MPA_eez</code>, i.e. <code>habitat_combo</code> (and, as mentioned above, choose the coastal version of biodiversity, i.e. <code>species_diversity_3nm</code>).</li> <li>The rocky reef and soft bottom, on the other hand, should definitely include fisheries regulations. So you’ll need to choose a fisheries and a habitat combo for these two habitats.</li> </ul> <ol start="2" style="list-style-type: decimal"> <li>Which fisheries and habitat combos for <code>rocky_reef</code> and <code>soft_bottom</code>? The choice depends on two things:</li> </ol> <ul> <li>whether they are coastal habitats (within 3nm of the coast) or EEZ-wide habitats <ul> <li>if coastal, use the fisheries and habitat combos with <code>MPA_coast</code> (<code>fishing_v1</code>, <code>fishing_v3</code>, <code>habitat_combo</code>), and the <code>species_diversity_3nm</code> layer</li> <li>if EEZ-wide, use the fisheries and habitat combos with <code>MPA_eez</code> (<code>fishing_v1_eez</code>, <code>fishing_v2_eez</code>, <code>fishing_v3_eez</code>, <code>habitat_combo_eez</code>), and the <code>species_diversity</code> layer</li> </ul></li> <li>whether the fisheries occurring on that habitat are mainly artisanal, mainly commercial, or both <ul> <li>if only commercial fisheries, use a layer that only uses the <code>Mora</code> data <code>fishing_v1..</code>)</li> <li>if only artisanal/small-scale fisheries, use a layer that only uses the <code>Mora_s4</code> data (<code>fishing_v3..</code>)</li> <li>if both, use a layer that uses both <code>Mora</code> and <code>Mora_s4</code> data (<code>fishing_v2..</code>)</li> </ul></li> </ul> <ol start="3" style="list-style-type: decimal"> <li>It may also be that the existing global combo layers are not appropriate for your habitats. For example, if rocky reef is mainly coastal, and it is fished by both commercial and artisanal methods, then we need a new combo that uses <code>Mora</code>, <code>Mora_s4</code>, <code>CBD_hab</code>, and <code>MPA_coast</code> (this is the same as <code>fishing_v2_eez</code>, but we use the <code>MPA_coast</code> layer instead of the <code>MPA_eez</code>). All other combinations are already present.</li> <li><p>Another issue to consider is whether local data are available to improve the pressure layers (that are based on global data). For example, if there are local data on Marine Protected Areas (MPAs) and any areas with special regulations, this should be used to generate the <code>MPA_coast</code> and <code>MPA_eez</code> layers.You may know that only certain types of protected areas are closed to fisheries, and may want to only include those. Also, local datasets may be more accurate and regularly updated. **NOTE: in the global study, these are the same datasets used to calculate the status of Lasting Special Places (LSP).</p></li> <li>How to update <code>resilience_matrix.csv</code>?</li> </ol> <ul> <li>write the complete list of layers you want to use for each habitat. Based on the above, for example, <code>soft bottom</code> in Israel matches the combination of layers called <em>soft bottom, with corals</em> in the default <code>resilience_matrix.csv</code>. But the <code>rocky_reef</code> and <code>sand_dunes</code> don’t seem to match any existing combination, so you’ll probably need to delete some of the rows, e.g. the <em>coral only</em>, and replace with new ad-hoc rows.</li> </ul> </div> </div> </div> <div id="modifying-goal-models" class="section level2"> <h2><span class="header-section-number">7.4</span> Modifying goal models</h2> <p>When an existing layer is updated with new data, the Toolbox will automatically incorporate it into the goal calculations after the updated filenames are registered in <code>layers.csv</code>. However, if a new layer has been added to the layers folder and registered in <code>layers.csv</code>, the Toolbox will not use it unless it is called in a goal model. To integrate any new data layers registered in <code>layers.csv</code> you will need to modify the goal model to incorporate the data. Furthermore, in many cases, it will make sense to modify goal models based on data availability and/or local context. For example, the models for regional analyses can often be simplified because of improved data.</p> <p><strong>There are two steps to follow when working with goal models:</strong></p> <ol style="list-style-type: decimal"> <li>Update <code>functions.r</code></li> <li>Check and possibly update <code>goals.csv</code></li> </ol> <div id="update-functions.r" class="section level3"> <h3><span class="header-section-number">7.4.1</span> Update <em>functions.r</em></h3> <p>To incorporate a new data layer into a goal model, open <code>functions.R</code> in RStudio: this script contains all the models for each goal and sub-goal. A member of your team with the ability to write R code will need to translate the updated goal model into the Toolbox format. Follow the structure of existing goal models in order to incorporate the new data layers, noting the use of certain R packages for data manipulation.</p> <p>The image below shows the navigation pane in RStudio that can be used to easily navigate between goal models.</p> <div class="figure"> <img src="fig/navigation_functions.png" /> </div> </div> <div id="check-and-possibly-update-goals.csv" class="section level3"> <h3><span class="header-section-number">7.4.2</span> Check and possibly update <em>goals.csv</em></h3> <p><code>goals.csv</code> provides input information for <code>functions.r</code>, particularly about goal weighting and function calls. It also includes descriptions about goals and sub-goals, which is presented on the WebApp.</p> <p>Changing goal weights will be done here by editing the value in the <em>weight</em> column. Weights do not need to be 0-1 or add up to 10; weights will be scaled as a proportion of the number of goals assessed. <code>goals.csv</code> also indicates the arguments passed to <code>functions.r</code>. These are indicated by two columns: <em>preindex_function</em> (functions for all goals that do not have sub-goals, and functions for all sub-goals) and <em>postindex_function</em> (functions for goals with sub-goals).</p> <div class="figure"> <img src="fig/registering_goals.png" /> </div> <p><strong>When updating layers or goal models, it is important to ensure that information called from <code>goals.csv</code> is correct</strong>:</p> <ul> <li>check the years</li> <li>etc…</li> </ul> </div> <div id="example-modification" class="section level3"> <h3><span class="header-section-number">7.4.3</span> Example modification:</h3> <p>Suppose your team has decided to add an ‘artisanal access’ component to the Artisanal Fishing Opportunity goal because of locally available data. Once the data are obtained and properly formatted, the data layer is saved as <code>ao_access_art</code>. To include this new information in the goal model, you will need to do the following:</p> <ol style="list-style-type: decimal"> <li>register the layer in <code>layers.csv</code></li> <li>update the goal model in <code>functions.r</code></li> <li>update the goal call in <code>goals.csv</code></li> </ol> <blockquote> <ol style="list-style-type: decimal"> <li>register in <code>layers.csv</code></li> </ol> </blockquote> <div class="figure"> <img src="fig/new_layer.png" /> </div> <blockquote> <ol start="2" style="list-style-type: decimal"> <li>update goal model</li> </ol> </blockquote> <div class="figure"> <img src="fig/functions_explained.png" /> </div> <blockquote> <ol start="3" style="list-style-type: decimal"> <li>update goal call in <code>goals.csv</code></li> </ol> </blockquote> <p>[develop]</p> </div> </div> <div id="removing-goals" class="section level2"> <h2><span class="header-section-number">7.5</span> Removing goals</h2> <p>If a goal is not relevant in your region, it is possible to remove the goal completely from the calculation. There are four places where you will need to remove the reference to this goal. Failing to delete all referenced layers after the goal is deleted will result in errors. To remove goals from your assessment, you will have to do the following:</p> <ol style="list-style-type: decimal"> <li>Remove the goal model from <code>functions.r</code></li> <li>Remove the goal’s row from <code>goals.csv</code></li> <li>Remove the goal’s row from <code>pressures_matrix.csv</code></li> <li>Remove the goal’s row from <code>resilience_matrix.csv</code></li> </ol> <div class="figure"> <img src="fig/remove_goal.png" /> </div> <p><strong>Example: Removing carbon storage (CS) goal</strong></p> <p>To completely remove the carbon storage goal from Index calculations, you will do the following.</p> <ol style="list-style-type: decimal"> <li>Remove the carbon storage (CS) goal model from <code>functions.r</code>. Delete the highlighted text in the figure below that references the CS layers and calculates CS goal status, trend, and scores.</li> </ol> <div class="figure"> <img src="fig/functions_delete.png" /> </div> <ol start="2" style="list-style-type: decimal"> <li>Remove the CS row from <code>goals.csv</code>. Delete the highlighted row in the figure below that contains the CS goal.</li> </ol> <div class="figure"> <img src="fig/goals_delete.png" /> </div> <ol start="3" style="list-style-type: decimal"> <li>Remove all CS rows from <code>pressures_matrix.csv</code>. Delete the highlighted rows in the figure below that contain CS pressures.</li> </ol> <div class="figure"> <img src="fig/delete_pressures.png" /> </div> <ol start="4" style="list-style-type: decimal"> <li>Remove all CS rows from <code>resilience_matrix.csv</code>. Delete the highlighted rows in the figure below that contain CS resilience.</li> </ol> <div class="figure"> <img src="fig/delete_resilience.png" /> </div> </div> <div id="other-example-modifications" class="section level2"> <h2><span class="header-section-number">7.6</span> Other example modifications</h2> <div id="preparing-the-fisheries-sub-goal" class="section level3"> <h3><span class="header-section-number">7.6.1</span> Preparing the fisheries sub-goal</h3> <p>Here is some background information about how to prepare fisheries data layers for the Toolbox.</p> <p><strong>Data layers used by the Toolbox:</strong></p> <ul> <li><code>fis_b_bmsy</code></li> <li><code>fis_meancatch</code></li> <li><code>fis_proparea_saup2rgn</code></li> <li><code>fp_wildcaught_weight</code></li> </ul> <div id="description-of-data-layers" class="section level4"> <h4><span class="header-section-number">7.6.1.1</span> Description of data layers</h4> <p><code>fis_b_bmsy</code></p> <ul> <li><em>for species</em>: B/Bmsy estimate (either from formal stock assessment, or from a data-poor method such as CMSY)<br /></li> <li><em>for genus/family/broader taxa</em>: the toolbox will use median B/Bmsy from species in that region + a penalty for not reporting at species level. In order for the code to assign the correct penalty, the taxa need to include a numerical code of 6 digits, where the first digit behaves like an ISSCAAP code (the standardized species codes used by FAO): 6 means species, 5 means genus, 4 to 1 are increasingly broad taxonomic groups<br /></li> <li><em>data source (for CMSY)</em>: catch time-series (at least 10 years of catch &gt;0), species resilience (if available)</li> </ul> <p><strong>Example data:</strong></p> <table> <thead> <tr class="header"> <th align="left">fao_id</th> <th align="left">taxon_name</th> <th align="left">year</th> <th align="left">b_bmsy</th> </tr> </thead> <tbody> <tr class="odd"> <td align="left">51</td> <td align="left">Ablennes hians</td> <td align="left">1985</td> <td align="left">1.112412</td> </tr> <tr class="even"> <td align="left">51</td> <td align="left">Ablennes hians</td> <td align="left">1986</td> <td align="left">1.222996</td> </tr> <tr class="odd"> <td align="left">51</td> <td align="left">Ablennes hians</td> <td align="left">1987</td> <td align="left">1.371058</td> </tr> </tbody> </table> <p>NOTE: if a species that is caught in different sub-regions belongs to the same population, you don’t want to split the catch among sub-regions, instead, you want to sum catch across all sub-regions, so you can calculate B/Bmsy for the whole population. For the global analysis we grouped all species catch by FAO major fishing area (www.fao.org/fishery/area/search/en), indicated in the column <em>fao_id</em>, assuming that all species caught within the same FAO area belonged to the same stock, while we assumed that the same species, if caught in a different fishing area, belonged to a separate stock.<br />Use <em>fao_id</em> as an identifier that separates different fisheries ‘stocks’ belonging to the same species.<br />If you don’t have multiple stocks in your study area, set all <em>fao_id</em> = 1.</p> <p><code>fis_meancatch</code>:</p> <ul> <li>average catch across all years, per species, per region<br /></li> <li><em>data source</em>: catch time-series (at least 10 years of catch &gt;0), with a unique identifier for each population that you want to assess separately</li> </ul> <p><strong>Example data:</strong></p> <table> <thead> <tr class="header"> <th align="left">fao_saup_id</th> <th align="left">taxon_name_key</th> <th align="left">year</th> <th align="left">mean_catch</th> </tr> </thead> <tbody> <tr class="odd"> <td align="left">37_8</td> <td align="left">Aristeus antennatus_690051</td> <td align="left">2014</td> <td align="left">14.24398116</td> </tr> <tr class="even"> <td align="left">37_8</td> <td align="left">Atherinidae_400218</td> <td align="left">2014</td> <td align="left">27.30120156</td> </tr> <tr class="odd"> <td align="left">37_8</td> <td align="left">Balistes capriscus_607327</td> <td align="left">2014</td> <td align="left">3.247883895</td> </tr> </tbody> </table> <p>The <em>taxon_name_key</em> column indicates the name of the species (e.g. Aristeus antennatus) and its ‘taxonkey’. The taxonkey is a 6 digit numeric code used by the Sea Around Us Project, modified from FAO codes. The important element of this code is the first digit, because it reflects the taxonomic level (6=species, 5=genus, 4=family, etc.) of the reported catch.The toolbox uses this first digit to assign a score to all catch that was not reported at species level, taking the median of the B/Bmsy of assessed species, and adding a penalty that is increasingly strong for coarser taxa.</p> <p><code>fis_proparea_saup2rgn</code>:</p> <ul> <li>a conversion file that, for each region for which catch is reported, tells us what proportion of that region falls within each of the final OHI reporting regions.</li> </ul> <p><strong>Example data:</strong></p> <table> <thead> <tr class="header"> <th align="right">saup_id</th> <th align="right">rgn_id</th> <th align="right">prop_area</th> </tr> </thead> <tbody> <tr class="odd"> <td align="right">166</td> <td align="right">1</td> <td align="right">1.0</td> </tr> <tr class="even"> <td align="right">162</td> <td align="right">2</td> <td align="right">1.0</td> </tr> <tr class="odd"> <td align="right">574</td> <td align="right">3</td> <td align="right">0.7</td> </tr> <tr class="even"> <td align="right">37</td> <td align="right">4</td> <td align="right">0.8</td> </tr> </tbody> </table> <p><strong>Specific instances:</strong></p> <p><em>only if catch is reported for different regions than the ones used for the OHI assessment:</em> this should be calculated using spatial analyses of overlap of the spatial units at which catch is reported with the spatial units at which the OHI assessment will be reported. The global data was reported by subregions (<em>saup_id</em>) and in some cases multiple subregions were part of the same, larger EEZ. Since for OHI we wanted results by EEZ (<em>rgn_id</em>), in those cases we needed to combine results from the subregions to get the final score, based on their size relative to the total EEZ size (<em>prop_area</em>).<br /> <em>If catch is reported for the same areas for which OHI is calculated:</em> then all the <em>prop_area</em> are = 1.<br /> <em>If catch is reported for the whole area of the assessment, but you want to calculate a separate OHI score for different sub-regions:</em> for each OHI reporting region (<em>rgn_id</em>) you’ll repeat the same region in the <em>saup_id</em> column, and <em>prop_area</em> will be =1. This effectively means all the reporting regions will get assigned 100% of the catch and will have the same final stastus and trend score for the fisheries goal (but may have different pressures and resilience scores, if those layers are different in each sub-region).</p> <p><code>fp_wildcaught_weight</code>:</p> <p><em>only needed if there is mariculture</em>: for each region, this represents the relative proportion of catch coming from wild caught fisheries versus mariculture. The layer is used to weight how much the fisheries score influences the final food provision score, the higher the fisheries catch, the more the food provision score will reflect the fisheries score, and vice-versa if mariculture has a higher catch.<br />(NOTE that, before all mariculture harvest from all species gets summed, the mariculture harvest for each species is smoothed and then multiplied by the resilience score).</p> </div> <div id="running-cmsy-model" class="section level4"> <h4><span class="header-section-number">7.6.1.2</span> Running CMSY model</h4> <p><strong>Sample data to run CMSY:</strong></p> <table> <thead> <tr class="header"> <th align="left">id</th> <th align="left">stock_id</th> <th align="left">res</th> <th align="left">ct</th> <th align="left">yr</th> </tr> </thead> <tbody> <tr class="odd"> <td align="left">6</td> <td align="left">Acanthistius brasilianus_41</td> <td align="left">Medium</td> <td align="left">100</td> <td align="left">1950</td> </tr> <tr class="even"> <td align="left">23</td> <td align="left">Acanthurus dussumieri_61</td> <td align="left"></td> <td align="left">0.059250269</td> <td align="left">1950</td> </tr> <tr class="odd"> <td align="left">24</td> <td align="left">Acanthurus dussumieri_71</td> <td align="left"></td> <td align="left">0.190749971</td> <td align="left">1950</td> </tr> <tr class="even"> <td align="left">25</td> <td align="left">Acanthurus lineatus_61</td> <td align="left">Low</td> <td align="left">12.74821966</td> <td align="left">1950</td> </tr> </tbody> </table> <p>The current CMSY script produces an output that looks something like this (split into 2 tables):</p> <table> <thead> <tr class="header"> <th align="left">stock_id</th> <th align="left">convergence</th> <th align="left">effective_sample_size</th> <th align="left">yr</th> <th align="left">b_bmsy</th> <th align="left">b_bmsyUpper</th> </tr> </thead> <tbody> <tr class="odd"> <td align="left">Ablennes hians_51</td> <td align="left">SC</td> <td align="left">30974</td> <td align="left">1985</td> <td align="left">1.112412</td> <td align="left">1.8</td> </tr> <tr class="even"> <td align="left">Ablennes hians_51</td> <td align="left">SC</td> <td align="left">30974</td> <td align="left">1986</td> <td align="left">1.222996</td> <td align="left">1.768895</td> </tr> </tbody> </table> <table> <thead> <tr class="header"> <th align="left">stock_id</th> <th align="left">yr</th> <th align="left">b_bmsyLower</th> <th align="left">b_bmsyiq25</th> <th align="left">b_bmsyiq75</th> <th align="left">b_bmsyGM</th> <th align="left">b_bmsyMed</th> </tr> </thead> <tbody> <tr class="odd"> <td align="left">Ablennes hians_51</td> <td align="left">1985</td> <td align="left">1</td> <td align="left">1</td> <td align="left">1</td> <td align="left">1.093932</td> <td align="left">1</td> </tr> <tr class="even"> <td align="left">Ablennes hians_51</td> <td align="left">1986</td> <td align="left">1.014688</td> <td align="left">1.075699</td> <td align="left">1.298437</td> <td align="left">1.209005</td> <td align="left">1.160329</td> </tr> </tbody> </table> <p>where <em>stock_id</em> is the unique identifier for each stock that was used in the input file, <em>convergence</em> indicates whether the model converged and how strongly (‘SC’ = strong convergence), <em>effective_sample_size</em> reports the number of iterations used, <em>yr</em> = year, b_bmsy = B/Bmsy for the corresponding year (based on the median of all the estimated values: reccomended), b_bmsyUpper = B/Bmsy at the upper 95% bootstrapped confidence bound, b_bmsyLower = B/Bmsy at the lower 95% bootstrapped confidence bound, b_bmsyiq25 = B/Bmsy at the first quartile, b_bmsyiq75 = B/Bmsy at the third quartile, b_bmsyGM = B/Bmsy based on the geometric mean of estimates, b_bmsyMed = B/Bmsy based on the median of estimates.</p> <p><strong>How to:</strong></p> <p><strong>1. Include resilience in the CMSY code:</strong></p> <p>In the CMSY R script, in the PARAMETERS section, replace the following:</p> <blockquote> <div class="figure"> <img src="fig/include_resilience.png" /> </div> </blockquote> <p><strong>2. Make assumptions about fisheries regulations:</strong></p> <p>If you assume that fisheries are depleted and there isn’t very much fisheries regulation, and you are using the CMSY method to assess B/Bmsy, the original model may work well. If, however, the catch of a species declined because fisheries regulations have closed or limited the fishery, or if a fishery was abandoned for economic reasons (e.g., change in consumer prefereces, market price dynamics, etc.), the model may be too pessimistic and understimate B/Bmsy. In that case it may be best to use a version with a uniform prior on final biomass, instead of the constrained prior.<br />The original constrained prior on final biomass is set by this line within the code:</p> <pre><code>finalbio    &lt;- if(ct[nyr]/max(ct) &gt; 0.5) {c(0.3,0.7)} else {c(0.01,0.4)}    </code></pre> <p>The model uses a uniform prior if that line is replaced with:</p> <pre><code>finalbio    &lt;- c(0.01,0.7) </code></pre> <p><strong>3. Use data at a different spatial resolution than the final assessment:</strong></p> <p>See notes above for <code>fis_proparea_saup2rgn</code></p> <p><strong>4. Calculate B, or Bmsy:</strong></p> <p>The CMSY model calculates B/Bmsy as a ratio, it does not estimate the two variables separately.</p> <p><strong>5. Use catch per unit of effort (CPUE):</strong></p> <p>The CMSY model requires total biomass removed by fisheries, and uses catch as a proxy for that. It cannot use CPUE. Other more sophisticated stock assessment models use CPUE and may be employed. We do not provide documentation for the use of these other models.</p> <p><strong>6. Use other life-history characteristics, in addition to resilience:</strong></p> <p>The CMSY model does not use more detailed information. Other more sophisticated stock assessment models use other life-history traits such as fecundity, larval dispersal, r, K, Lmax, etc., and may be employed. We do not provide documentation for the use of these other models.</p> <p><strong>7. Create a ‘taxonkey’ to assign to each species:</strong></p> <p>When replacing the SAUP_FAO data with your own data, assign a key of 600000 to all species. For all catch that is reported at genus or coarser taxonomic level, you will have to choose an appropriate taxonkey. You can create your own key, from 100000 to 500000, based on your own judgment of how many species may be reported under that same denomination, and how different they may be (all that matters for the toolbox code is whether the number starts with a 1,2,3,4,5 or 6 with 1 being the coarsest, such as ‘miscellaneous marine animals’, or ‘crustaceans nei’).</p> </div> <div id="resources" class="section level4"> <h4><span class="header-section-number">7.6.1.3</span> Resources</h4> <p>Martell, S &amp; Froese, R (2013) “A simple method for estimating MSY from catch and resilience”. <em>Fish and Fisheries</em>, DOI: 10.1111/j.1467-2979.2012.00485.x. <a href="http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=2&amp;ved=0CCkQFjAB&amp;url=http%3A%2F%2Fwww.iotc.org%2Fsites%2Fdefault%2Ffiles%2Fdocuments%2F2013%2F06%2FIOTC-2013-WPNT03-INF01%2520-%2520Martell%2520%2526%2520Froese%25202012.pdf&amp;ei=PXryU6TtGY3goATglYHoDA&amp;usg=AFQjCNE-S0T1B7B_l7rUYaNNLxsUDguDaQ&amp;bvm=bv.73231344,d.cGU">Downloadable here</a></p> <p>Rosenberg, A.A., Fogarty, M.J., Cooper, A.B., Dickey-Collas, M., Fulton, E.A., Gutiérrez, N.L., Hyde, K.J.W., Kleisner, K.M., Kristiansen, T., Longo, C., Minte-Vera, C., Minto, C., Mosqueira, I., Chato Osio, G., Ovando, D., Selig, E.R., Thorson, J.T. &amp; Ye, Y. (2014) Developing new approaches to global stock status assessment and fishery production potential of the seas. <em>FAO Fisheries and Aquaculture Circular No. 1086</em>. Rome, FAO. 175 pp. <a href="http://www.fao.org/docrep/019/i3491e/i3491e.pdf">Downloadable here</a></p> </div> </div> </div> <div id="notes-about-r" class="section level2"> <h2><span class="header-section-number">7.7</span> Notes about R</h2> <p>The Toolbox is written in R, and relies heavily on a few R packages created to faciliate data handling and manipulation. The primary R package used is called <code>dplyr</code> by Hadley Wickham. The <code>dplyr</code> package allows for ‘chaining’ between functions, which is represented with a <code>%&gt;%</code>. See: <a href="https://github.com/hadley/dplyr#dplyr">https://github.com/hadley/dplyr#dplyr</a> for documentation.</p> </div> </div> <div id="frequently-asked-questions-faqs" class="section level1"> <h1><span class="header-section-number">8</span> Frequently Asked Questions (FAQs)</h1> <p>This document provides answers to some frequently asked questions about conducting regional assessments using the Ocean Health Index. A few questions are related to general concepts in the Ocean Health Index, but mostly those topics are covered at <a href="http://www.oceanhealthindex.org/About/FAQ/">http://www.oceanhealthindex.org/About/FAQ/</a>. Here, the FAQ are primarily technical questions regarding regional assessments and using the OHI Toolbox. This document will be updated continually as we have more questions. Questions are arranged by theme, and have the format Q: (question) and A: (answer).</p> <div id="overall" class="section level2"> <h2><span class="header-section-number">8.1</span> Overall</h2> </div> <div id="conceptual" class="section level2"> <h2><span class="header-section-number">8.2</span> Conceptual</h2> <p><strong>Q: Are regional assessment scores comparable with global assessment scores?</strong></p> <p>A: Regional Index scores cannot be directly compared to global Index scores, or to other regional Index scores calculated through separate efforts. This is because data and indicators (both what they measure and their quality), reference points (set using local knowledge and priorities), and specific goal models are often different for the areas being compared.</p> <p>However, because scores for each goal are scaled to a reference point, qualitative comparisons can be made. For example, a score of 71 in the US West Coast compared to 66 in Brazil says that the US West coast is closer to fully meeting its sustainable goals (i.e., meeting regional reference points). Furthermore, use of the same Ocean Health Index framework across regional assessments permits fruitful discussion and general comparisons even if data inputs differ. Ocean Health Index assessments at any scale always work within a standardized definition of ocean health, using information to capture the philosophy of the ten goals that have been identified (and undergone scientific peer-review) prior to compiling relevant data. Use of the ten-goal framework is important both to ensure that all aspects of ocean health are captured and to allow better comparison across regional assessments than would be possible if the different regions used different methods.</p> <p><strong>Q: Where is climate change measured in the Index?</strong></p> <p>A: Four different aspects of climate change – increases in sea surface temperature (SST), sea level rise (SLR), ultraviolet radiation (UV), and ocean acidification (OA) – are included as pressures to many goals in the Index, including Natural Products, Carbon Storage, Coastal Protection, Sense of Place, Livelihoods &amp; Economies and Biodiversity. Mitigation of climate change through carbon storage is one of the ten goals.</p> <p><strong>Q: Why are food provision and artisanal fishing opportunities goals separated?</strong></p> <p>A: These goals measure different aspects of how people relate to fishing. The catch of fish made by artisanal (=small-scale, subsistence type) fisheries is captured in the food provision goal. Jobs, wages and income from both the food provision and artisanal fishing goals are captured in the livelihoods &amp; economies goal. The purpose of the artisanal fishing opportunity goal is to evaluate the opportunity for people to pursue this fishing in relation to their need to do so.</p> </div> <div id="timing-and-resources" class="section level2"> <h2><span class="header-section-number">8.3</span> Timing and Resources</h2> <p><strong>Q: How much does it cost to produce a regional assessment?</strong></p> <p>A: Regional assessments can be completed at(varying costs depending on the local context.(Funds are needed for a management and scientific team, workshops and meetings (including travel), communications, policy engagement, and operating costs. Therefore, securing funding is an important component to satisfactorily complete the assessment. We encourage the development of a local proposal or strategic action plan that details a timeline of activities and the resources needed to accomplish them.</p> <p><strong>Q: How many people are required in a team?</strong></p> <p>A: rather than a specific number of individuals, what is required are specific skillsets. For example, if the scientific analysts were capable of effectively conducting the R analysis, then a dedicated R analyst would not be required. In current assessments, teams range between 2 and 8 people.</p> <p><strong>Q: How long does it take to calculate OHI at a regional scale?</strong></p> <p>A: This depends on many things: budget and number of people involved, the scale of the study area and whether new regions will need to be created, how easily data can be acquired, how much local data can be incorporated, how many goal models need to be changed. Additionally, decisions about setting reference points require input from experts.</p> <p><strong>Q: How much time will modifications by an R analyst take?</strong></p> <p>A: This will depend on if you are changing any models, and potentially data layers–but a lot of changing data layers just requires registering them properly in layers.csv (and maybe pressures_matrix.csv and resilience_matrix.csv if they are pressures or resilience files) and having the functions.r file call those layers. That is more ‘bookkeeping’ than actual R programming.</p> <p><strong>Q: How much time will modifications by a GIS analyst take?</strong></p> <p>A: this will depend on how many layers you are processing: you are clipping spatial data? That will take some time because there are quite a few files, but maybe not too long since it is pretty small scale and once there is a clipping mask created I think you apply it to other files.</p> <p><strong>Q: Which goals require a GIS analyst?</strong></p> <p>A: All goals using spatial data could potentially require a GIS analyst. These goals are commonly: habitat-based goals and sub-goals: (Coastal Protection, Carbon Storage, Habitats—a sub-goal of Biodiversity), Food Provision, Sense of Place, Species—a sub-goal of Biodiversity, Clean Waters</p> </div> <div id="structure" class="section level2"> <h2><span class="header-section-number">8.4</span> Structure</h2> <p><strong>Q: Can we remove or add goals to the OHI?</strong></p> <p>A: A lot of deliberation went into defining the ten goals, and they seem to do a pretty good job of covering many if not most ocean uses, so additional goals may not be necessary. But it could be that they eclipse or replace an existing goal.</p> </div> <div id="reference-points" class="section level2"> <h2><span class="header-section-number">8.5</span> Reference points</h2> <p><strong>Q: Can planning targets can be used as the reference points?</strong></p> <p>A: Yes, planning targets can be used as reference points. This won’t be appropriate for every goal, but there are cases where this seemed best (example: iconic species sub-goal in the global assessment, mariculture sub-goal in the US West Coast assessment).</p> <p><strong>Q: What is sector evenness?</strong></p> <p>A: Sector evenness (also called a diversity index) is an economic concept that is included in OHI to enable comparison across many different sectors included in the Livelihoods &amp; Economies goal. This goal evaluates jobs, wages and revenues for nine marine employment sectors. The distribution of employment across these nine sectors is an effective indicator of resilience. If total employment within a community is primarily based in one or two sectors, the overall economic system will be excessively vulnerable to downturns in those sectors. Conversely, if employment is spread relatively evenly throughout all nine sectors, the overall system will be more robust and resistant to such disturbances. Overall revenue within the community will remain more stable during such downturns, and workers displaced by a downturn in their sector may be able to find employment in another sector without leaving the community.</p> </div> <div id="appropriate-data-layers" class="section level2"> <h2><span class="header-section-number">8.6</span> Appropriate data layers</h2> <p><strong>Q: Shipping and port activity are hardly affected by the health of the ecosystem. Why are these included in the Index?</strong></p> <p>A: Shipping and port activity are included as pressures only</p> <p><strong>Q: Can oil spills be included in OHI?</strong></p> <p>A: Yes, oil spills could be included as a pressure and in the Clean Waters goal.</p> <p><strong>Q: Is seasonal (non-permanent) sea ice included in OHI habitats?</strong></p> <p>A: No, sea ice only includes permanent sea ice.</p> <p><strong>Q: Can seaweeds be included in the Carbon Storage goal?</strong></p> <p>A: Because they store carbon for less than 100 years, seaweeds and corals are not included in the carbon storage goal. While the pelagic oceanic carbon sink (phytoplankton) plays a large role in the sequestration of anthropogenic carbon, the pelagic ocean mechanisms are not amenable to local or regional management intervention. Phytoplankton and contribute to carbon fixation when they die and sink to the sea bottom at sufficient depth, because it is effectively out of circulation. However, if those phytoplankton are eaten, the carbon is cycled back into the system and not sequestered. Something that could potentially be included in the carbon storage goal is mollusc shells, if they are added to a landfill and not recycled in the sea. So if information on mariculture production and waste disposal are available, this could be an interesting addition to carbon storage at a regional scale.</p> <p><strong>Q: Is coastal engineering included in Coastal Protection? What if it reduces erosion?</strong></p> <p>A: We did not include an assessment of the protection afforded by man-made structures, such as jetties and seawalls, because these structures cannot be preserved without maintenance, may have other negative side effects (e.g. alter sedimentation rates causing erosion in new locations), thus they do not constitute long-term sustainable services. Coastal engineering (jetties, harbours, marina and breakwater) is not natural, and is mostly seen as a pressure. It will also be evident in the status of due to decreased natural habitat. It gets tricky when structures are built to help reduce coastal erosion–they are still manmade and therefore not a natural benefit that the ocean provides. But if available data allow, it might be possible to include tradeoff effects: maybe in areas where natural habitats are degraded and man-made structures have been built to reduce erosion, we could reduce the pressure that would otherwise be applied.</p> <p><strong>Q: How is seawater used for cooling on-shore power plants incorporated into OHI?</strong></p> <p>A: The use of cooling water for on-shore power plants would be a pressure on the ocean, since it causes entrapment of fishes, larvae, etc, and usually is circulated back into the ocean at higher temperatures (and maybe other chemicals, minerals, etc). Since the energy is coming from land-based activities, there isn’t a service that the ocean is providing that ‘benefits’ people, it is only a pressure from the OHI perspective.</p> <p><strong>Q: How is freshwater production through desalination incorporated into OHI?</strong></p> <p>A: Desal would be incorporated into OHI in several places. The benefit is that there is freshwater produced, which could be incorporated into the Natural Products goal (or potentially into its own goal). Data required would be the volume of freshwater created based on the volume of seawater involved and spatial extent. Setting the reference point would not be based on how much can be produced, but some other targets perhaps set by government (percentage of the population served). Similar to the mariculture sub-goal and tourism goals, any negative effects caused by desal that affect other goals (example: species) do not influence the ability to obtain desalination targets now and in the future. Therefore, the sustainability coefficient only measures the ability to sustain that goal, but not the impacts on other goals: instead, they are taken into account as pressures when calculating the other goals. Desal should be included as a pressure similar to cooling on-shore power plants since the discharge brine is dense, doesn’t plume very well and there are chemicals involved.</p> </div> <div id="food-provision" class="section level2"> <h2><span class="header-section-number">8.7</span> Food Provision</h2> <p><strong>Q: Could the culture of marine fish in closed pools on-shore be included in the Mariculture sub-goal?</strong></p> <p>A: This should not be included because onshore aquaculture does not require a marine environment.</p> <p><strong>Q: Can aquaculture farms that receive seawater supply and return seawater back to the sea be included in the food provision goal?</strong></p> <p>A: This would be more appropriately included in the Mariculture sub-goal, and with finer-scale data additional pressures due to the intake pipes and the processed brine back into the marine system could be incorporated as well. Natural Products</p> <p><strong>Q: If natural products are all produced through on-land aquaculture, should this goal be removed?</strong></p> <p>A: In this case you would probably have good reason to exclude the natural product goal due if this was defendable through discussions with experts and any reports/papers on the topic. This would also depend on the origin of these natural products–are they from the region’s waters? Habitat-based goals</p> <p><strong>Q: How is coral health calculated?</strong></p> <p>A: Coral health was estimated by compiling point data from multiple studies of percent live coral cover. In other words, estimates of coral cover within transects of certain sites were repeated in time and we used that rate of change in time as an indication of health of the reefs in the whole region. The difficulty lies in 1) having enough different locations sampled that you can say something about the whole region and 2) finding studies that did repeated measures in time, in the same location, over at least 20 years. In the Global 2013 assessment, there were so few datasets that satisfied this condition that we had to pool observations from different locations.</p> <p><strong>Q: Is it possible to calculate habitat goals when there is only one year of habitat data?</strong></p> <p>A: With only one year of habitat data, it is not possible to calculate the trend (which requires 5 years of data). Instead, it might be best to use the available habitat data to calculate the current status and then to overlay pressures for the last 5 years to calculate trend.</p> </div> <div id="livelihoods-economies" class="section level2"> <h2><span class="header-section-number">8.8</span> Livelihoods &amp; Economies</h2> <p><strong>Q: Benefits gained from Wild-caught fisheries, Mariculture, Tourism &amp; Recreation are included in specific goals. Why are these counted again in Livelihoods &amp; Economies?</strong></p> <p>A: The quantity of fish, mariculature, and participation in T&amp;R are considered separately in goals whereas the monetary component is captured in L&amp;E.</p> <p><strong>Q: Why are revenue data from shipping, boat building, ports and harbors included as revenue? Do these activities rely on a healthy ocean?</strong></p> <p>A: These sectors are included in the Ocean Health Index because the demand for some of those boats (fishing boats, sailboats, yachts) is dependent on a healthy ocean.</p> <p><strong>Q: Why isn’t oil and gas industries included in revenue?</strong></p> <p>A: The Natural Products goal does not include non-living items such as oil, gas, and mining products, because these practices are not considered to be sustainable. They are also done at such large scales that including them would essentially make OHI an index for oil and mining–and they are not truly an ocean product. Because these products are not included in terms of quantity extracted, it did not seem appropriate to include information regarding jobs, wages or revenue.</p> </div> <div id="tourism-recreation" class="section level2"> <h2><span class="header-section-number">8.9</span> Tourism &amp; Recreation</h2> <p><strong>Q: How do I calculate the sustainability term for TR?</strong></p> <p>A: The best way is to use a local indicator or measure of tourism sustainability or competitiveness, otherwise use the TTCI value from the Global 2013 assessment for the study area (applied evenly across all regions.</p> </div> <div id="natural-products" class="section level2"> <h2><span class="header-section-number">8.10</span> Natural Products</h2> <p><strong>Q: Where do Natural Products come from?</strong></p> <p>A: In the global assessments, Natural Products data come from the UN’s Food and Agriculture Administration (www.fao.org/fishery/statistics/software/fishstatj/en). These data are compiled and reported by product for each country, and available by downloading the FishStatJ software.</p> </div> <div id="species" class="section level2"> <h2><span class="header-section-number">8.11</span> Species</h2> <p><strong>Q: Can species and iconic species model scores be penalized if there are local flagship species that have not been evaluated?</strong></p> <p>Global data are based on IUCN assessments. For these evaluations, IUCN chooses a taxon (e.g. sharks) and a group of world experts assess it comprehensively. Locally identified species identified in a regional assessment may not be in the IUCN database because they do not belong to one of the taxa that have been selected for assessment, or because the experts that did the assessment did not know that information existed. In either case, there is no connection between what IUCN reports and what assessments are done locally. Therefore, it might not be fair to penalize a study area for missing species. For biodiversity, it is unrealistic to expect that all species are assessed, so it seems unfair to penalize for unassessed species. In the fisheries goal, there are penalties for species that are exploited but not assessed, because if there are landings data, it means they are somewhat measurable, and so it is reasonable to expect they should be at least monitored.</p> <p>It might be reasonable to penalize unassessed iconic species. It is a smaller list of species that are specifically identified as being of interest, for one reason or other. This would work for species that have some form of assessment - unless that information already exists, it might be unrealistic to try to produce the data layer required to develop a new model.</p> </div> <div id="sense-of-place" class="section level2"> <h2><span class="header-section-number">8.12</span> Sense of Place</h2> <p><strong>Q: Data are only available for marine protected areas, not terrestrial protected areas. Can we still calculate the Lasting Special Places sub-goal?</strong></p> <p>A: Yes, it is possible to calculate only the marine component of this sub-goal: this is not ideal but OHI is flexible to work with the data available.</p> </div> <div id="pressures" class="section level2"> <h2><span class="header-section-number">8.13</span> Pressures</h2> <p><strong>Q: How are single ecological pressures (si in Equation S8) calculated?</strong></p> <p>A: Data included in pressures calculations are accessed in the same manner as any other data layer, and rescaled from 0-1 with an appropriate reference point. For further information, see HowTo_GatherAppropriateData and HowTo_CalculatePressures from ohi-science.org.</p> <p><strong>Q: Does the pressures matrix need to be changed?</strong></p> <p>A: It is likely that the pressures matrix will not need to be changed. The weights assigned in the matrix were set using information from the literature and by experts; the matrix was created by Halpern et al. 2012.</p> <p><strong>Q: How is commercial high and low bycatch calculated?</strong></p> <p>A: Commercial high and low bycatch are categorical values that were set based on fishing gear type. This began as a list of gear types used, producing a range of potential bycatch frequencies (from local reports when possible), which can be rescaled.</p> </div> </div> <div id="toolbox-troubleshooting" class="section level1"> <h1><span class="header-section-number">9</span> Toolbox Troubleshooting</h1> <p>The Toolbox prints messages during its processing to help guide error checking and debugging. Here are a few troubleshooting tips. This section will be updated frequently; please share any problems that you encounter.</p> <div id="loading-rworkspace-on-restart" class="section level2"> <h2><span class="header-section-number">9.1</span> Loading RWorkspace on Restart</h2> <p>When you restart your R Session (Session &gt; Restart R on a Mac), if you see that it is trying to load <code>ohicore</code>, it may give you an error:</p> <blockquote> <div class="figure"> <img src="fig/ohicore_load.png" /> </div> </blockquote> <p>You do not want it to load <code>ohicore</code> or to save anything in your workspace. You will need to change the default setting from you <strong>.Rproj</strong> file. Steps to do this:</p> <ol style="list-style-type: decimal"> <li>Go to Project Options, either in the pull-down menu or by double-clicking the .Rproj file:</li> </ol> <blockquote> <div class="figure"> <img src="fig/proj_op.png" /> </div> </blockquote> <blockquote> <div class="figure"> <img src="fig/proj_op2.png" /> </div> </blockquote> <ol start="2" style="list-style-type: decimal"> <li>Change all options to <strong>No:</strong></li> </ol> <blockquote> <div class="figure"> <img src="fig/proj_op3.png" /> </div> </blockquote> </div> <div id="calculating-pressures" class="section level2"> <h2><span class="header-section-number">9.2</span> Calculating Pressures…</h2> <div id="the-following-components-for-goal-are-not-in-the-aggregation-layer-layer" class="section level3"> <h3><span class="header-section-number">9.2.1</span> ‘The following components for [goal] are not in the aggregation layer [layer]…’</h3> <p>Example:</p> <blockquote> <div class="figure"> <img src="fig/troubleshoot_aggregation_layer.png" /> </div> </blockquote> <blockquote> <div class="figure"> <img src="fig/tblshoot_pressures.png" /> </div> </blockquote> <p>This error means you should update your pressures matrix because it expects there to be components that your region does not have.</p> </div> <div id="error-in-matrix" class="section level3"> <h3><span class="header-section-number">9.2.2</span> ‘Error in matrix…’</h3> <p>Example: &gt; <img src="fig/tblshoot_pressures.png" /></p> <p>This error means there is an empty column in <code>pressures_matrix.csv</code>, and the Toolbox cannot handle empty columns.</p> </div> </div> <div id="calculating-resilience" class="section level2"> <h2><span class="header-section-number">9.3</span> Calculating Resilience …</h2> <div id="error-in-matchx-table-nomatch-ol-object-id_num-not-found" class="section level3"> <h3><span class="header-section-number">9.3.1</span> ‘Error in match(x, table, nomatch = OL) : object id_num not found’</h3> <blockquote> <div class="figure"> <img src="fig/error_resil_mtx.png" /> </div> </blockquote> <p>This error means you should check that there is at least one entry for each goal (for each row) in <code>resilience_matrix.csv</code>.</p> </div> </div> </div>   </div>  <script>  // add bootstrap table styles to pandoc tables $(document).ready(function () {   $('tr.header').parent('thead').parent('table').addClass('table table-condensed'); });  </script>  <!-- dynamically load mathjax for compatibility with self-contained --> <script>   (function () {     var script = document.createElement("script");     script.type = "text/javascript";     script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";     document.getElementsByTagName("head")[0].appendChild(script);   })(); </script>  </body> </html>